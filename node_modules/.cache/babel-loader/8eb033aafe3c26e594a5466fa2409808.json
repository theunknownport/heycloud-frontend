{"ast":null,"code":"import { extendDataItem, mapTree } from '@progress/kendo-react-common';\nvar GROUP_ID_FIELD = 'groupId';\nvar GROUP_SUBITEMS_COLLECTION = 'items';\n/**\n * @hidden\n */\n\nvar setGroupId = function (group, depth, parentValue) {\n  if (group.items) {\n    group[GROUP_ID_FIELD] = \"\".concat(parentValue).concat(parentValue && '_').concat(group.value).concat(group.field);\n\n    if (depth > 1) {\n      group.items.forEach(function (item) {\n        return setGroupId(item, depth - 1, group[GROUP_ID_FIELD]);\n      });\n    }\n  }\n};\n/**\n * Add unique ids to the group items inside data.\n *\n * @param {{data: any[], group: GroupDescriptor[]}} options - The options to be processed.\n */\n\n\nexport var setGroupIds = function (options) {\n  var group = options.group;\n\n  if (group && group.length && options.data) {\n    return options.data.forEach(function (item) {\n      return setGroupId(item, group.length, '');\n    });\n  }\n};\n/**\n * Get all group ids from the data.\n *\n * @param {{data: any[]}} options - The options to be processed.\n * @returns {string[]} - Collection of all group ids from the data.\n */\n\nexport var getGroupIds = function (options) {\n  var groupIds = [];\n  mapTree(options.data, GROUP_SUBITEMS_COLLECTION, function (item) {\n    if (item[GROUP_ID_FIELD]) {\n      groupIds.push(item[GROUP_ID_FIELD]);\n    }\n  });\n  return groupIds;\n};\n/**\n * Apply the `expanded` prop to the group items in data based on the provided collection of group ids.\n *\n * @param {{data: any[], collapsedIds: string[]}} options - The options to be processed.\n * @returns {string[]} - Collection of all group ids from the data.\n */\n\nexport var setExpandedState = function (options) {\n  // TODO: no need to traverse whole tree, only group levels\n  return mapTree(options.data, GROUP_SUBITEMS_COLLECTION, function (item) {\n    return extendDataItem(item, GROUP_SUBITEMS_COLLECTION, {\n      expanded: !options.collapsedIds.some(function (groupId) {\n        return groupId === item[GROUP_ID_FIELD];\n      })\n    });\n  });\n};","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-react-data-tools/dist/es/utils/group-operations.js"],"names":["extendDataItem","mapTree","GROUP_ID_FIELD","GROUP_SUBITEMS_COLLECTION","setGroupId","group","depth","parentValue","items","concat","value","field","forEach","item","setGroupIds","options","length","data","getGroupIds","groupIds","push","setExpandedState","expanded","collapsedIds","some","groupId"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,OAAzB,QAAwC,8BAAxC;AACA,IAAIC,cAAc,GAAG,SAArB;AACA,IAAIC,yBAAyB,GAAG,OAAhC;AACA;AACA;AACA;;AACA,IAAIC,UAAU,GAAG,UAAUC,KAAV,EAAiBC,KAAjB,EAAwBC,WAAxB,EAAqC;AAClD,MAAIF,KAAK,CAACG,KAAV,EAAiB;AACbH,IAAAA,KAAK,CAACH,cAAD,CAAL,GAAwB,GAAGO,MAAH,CAAUF,WAAV,EAAuBE,MAAvB,CAA8BF,WAAW,IAAI,GAA7C,EAAkDE,MAAlD,CAAyDJ,KAAK,CAACK,KAA/D,EAAsED,MAAtE,CAA6EJ,KAAK,CAACM,KAAnF,CAAxB;;AACA,QAAIL,KAAK,GAAG,CAAZ,EAAe;AACXD,MAAAA,KAAK,CAACG,KAAN,CAAYI,OAAZ,CAAoB,UAAUC,IAAV,EAAgB;AAAE,eAAOT,UAAU,CAACS,IAAD,EAAOP,KAAK,GAAG,CAAf,EAAkBD,KAAK,CAACH,cAAD,CAAvB,CAAjB;AAA4D,OAAlG;AACH;AACJ;AACJ,CAPD;AAQA;AACA;AACA;AACA;AACA;;;AACA,OAAO,IAAIY,WAAW,GAAG,UAAUC,OAAV,EAAmB;AACxC,MAAIV,KAAK,GAAGU,OAAO,CAACV,KAApB;;AACA,MAAIA,KAAK,IAAIA,KAAK,CAACW,MAAf,IAAyBD,OAAO,CAACE,IAArC,EAA2C;AACvC,WAAOF,OAAO,CAACE,IAAR,CAAaL,OAAb,CAAqB,UAAUC,IAAV,EAAgB;AAAE,aAAOT,UAAU,CAACS,IAAD,EAAOR,KAAK,CAACW,MAAb,EAAqB,EAArB,CAAjB;AAA4C,KAAnF,CAAP;AACH;AACJ,CALM;AAMP;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIE,WAAW,GAAG,UAAUH,OAAV,EAAmB;AACxC,MAAII,QAAQ,GAAG,EAAf;AACAlB,EAAAA,OAAO,CAACc,OAAO,CAACE,IAAT,EAAed,yBAAf,EAA0C,UAAUU,IAAV,EAAgB;AAC7D,QAAIA,IAAI,CAACX,cAAD,CAAR,EAA0B;AACtBiB,MAAAA,QAAQ,CAACC,IAAT,CAAcP,IAAI,CAACX,cAAD,CAAlB;AACH;AACJ,GAJM,CAAP;AAKA,SAAOiB,QAAP;AACH,CARM;AASP;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIE,gBAAgB,GAAG,UAAUN,OAAV,EAAmB;AAC7C;AACA,SAAOd,OAAO,CAACc,OAAO,CAACE,IAAT,EAAed,yBAAf,EAA0C,UAAUU,IAAV,EAAgB;AACpE,WAAOb,cAAc,CAACa,IAAD,EAAOV,yBAAP,EAAkC;AACnDmB,MAAAA,QAAQ,EAAE,CAACP,OAAO,CAACQ,YAAR,CAAqBC,IAArB,CAA0B,UAAUC,OAAV,EAAmB;AAAE,eAAOA,OAAO,KAAKZ,IAAI,CAACX,cAAD,CAAvB;AAA0C,OAAzF;AADwC,KAAlC,CAArB;AAGH,GAJa,CAAd;AAKH,CAPM","sourcesContent":["import { extendDataItem, mapTree } from '@progress/kendo-react-common';\nvar GROUP_ID_FIELD = 'groupId';\nvar GROUP_SUBITEMS_COLLECTION = 'items';\n/**\n * @hidden\n */\nvar setGroupId = function (group, depth, parentValue) {\n    if (group.items) {\n        group[GROUP_ID_FIELD] = \"\".concat(parentValue).concat(parentValue && '_').concat(group.value).concat(group.field);\n        if (depth > 1) {\n            group.items.forEach(function (item) { return setGroupId(item, depth - 1, group[GROUP_ID_FIELD]); });\n        }\n    }\n};\n/**\n * Add unique ids to the group items inside data.\n *\n * @param {{data: any[], group: GroupDescriptor[]}} options - The options to be processed.\n */\nexport var setGroupIds = function (options) {\n    var group = options.group;\n    if (group && group.length && options.data) {\n        return options.data.forEach(function (item) { return setGroupId(item, group.length, ''); });\n    }\n};\n/**\n * Get all group ids from the data.\n *\n * @param {{data: any[]}} options - The options to be processed.\n * @returns {string[]} - Collection of all group ids from the data.\n */\nexport var getGroupIds = function (options) {\n    var groupIds = [];\n    mapTree(options.data, GROUP_SUBITEMS_COLLECTION, function (item) {\n        if (item[GROUP_ID_FIELD]) {\n            groupIds.push(item[GROUP_ID_FIELD]);\n        }\n    });\n    return groupIds;\n};\n/**\n * Apply the `expanded` prop to the group items in data based on the provided collection of group ids.\n *\n * @param {{data: any[], collapsedIds: string[]}} options - The options to be processed.\n * @returns {string[]} - Collection of all group ids from the data.\n */\nexport var setExpandedState = function (options) {\n    // TODO: no need to traverse whole tree, only group levels\n    return mapTree(options.data, GROUP_SUBITEMS_COLLECTION, function (item) {\n        return extendDataItem(item, GROUP_SUBITEMS_COLLECTION, {\n            expanded: !options.collapsedIds.some(function (groupId) { return groupId === item[GROUP_ID_FIELD]; })\n        });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}