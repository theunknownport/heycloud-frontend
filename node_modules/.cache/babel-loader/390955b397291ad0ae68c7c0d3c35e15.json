{"ast":null,"code":"import { noop } from '@datadog/browser-core';\nimport { RumEventType } from '../rawRumEvent.types';\nimport { LifeCycleEventType } from './lifeCycle';\nexport function trackEventCounts(lifeCycle, callback) {\n  if (callback === void 0) {\n    callback = noop;\n  }\n\n  var eventCounts = {\n    errorCount: 0,\n    longTaskCount: 0,\n    resourceCount: 0,\n    userActionCount: 0\n  };\n  var subscription = lifeCycle.subscribe(LifeCycleEventType.RUM_EVENT_COLLECTED, function (_a) {\n    var type = _a.type;\n\n    switch (type) {\n      case RumEventType.ERROR:\n        eventCounts.errorCount += 1;\n        callback(eventCounts);\n        break;\n\n      case RumEventType.ACTION:\n        eventCounts.userActionCount += 1;\n        callback(eventCounts);\n        break;\n\n      case RumEventType.LONG_TASK:\n        eventCounts.longTaskCount += 1;\n        callback(eventCounts);\n        break;\n\n      case RumEventType.RESOURCE:\n        eventCounts.resourceCount += 1;\n        callback(eventCounts);\n        break;\n    }\n  });\n  return {\n    stop: function () {\n      subscription.unsubscribe();\n    },\n    eventCounts: eventCounts\n  };\n}","map":{"version":3,"sources":["../../src/domain/trackEventCounts.ts"],"names":[],"mappings":"AAAA,SAAS,IAAT,QAAqB,uBAArB;AACA,SAAS,YAAT,QAA6B,sBAA7B;AACA,SAAoB,kBAApB,QAA8C,aAA9C;AASA,OAAM,SAAU,gBAAV,CAA2B,SAA3B,EAAiD,QAAjD,EAAoG;AAAnD,MAAA,QAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,QAAA,GAAA,IAAA;AAAmD;;AACxG,MAAM,WAAW,GAAG;AAClB,IAAA,UAAU,EAAE,CADM;AAElB,IAAA,aAAa,EAAE,CAFG;AAGlB,IAAA,aAAa,EAAE,CAHG;AAIlB,IAAA,eAAe,EAAE;AAJC,GAApB;AAOA,MAAM,YAAY,GAAG,SAAS,CAAC,SAAV,CAAoB,kBAAkB,CAAC,mBAAvC,EAA4D,UAAC,EAAD,EAAS;QAAN,IAAI,GAAA,EAAA,CAAA,I;;AACtF,YAAQ,IAAR;AACE,WAAK,YAAY,CAAC,KAAlB;AACE,QAAA,WAAW,CAAC,UAAZ,IAA0B,CAA1B;AACA,QAAA,QAAQ,CAAC,WAAD,CAAR;AACA;;AACF,WAAK,YAAY,CAAC,MAAlB;AACE,QAAA,WAAW,CAAC,eAAZ,IAA+B,CAA/B;AACA,QAAA,QAAQ,CAAC,WAAD,CAAR;AACA;;AACF,WAAK,YAAY,CAAC,SAAlB;AACE,QAAA,WAAW,CAAC,aAAZ,IAA6B,CAA7B;AACA,QAAA,QAAQ,CAAC,WAAD,CAAR;AACA;;AACF,WAAK,YAAY,CAAC,QAAlB;AACE,QAAA,WAAW,CAAC,aAAZ,IAA6B,CAA7B;AACA,QAAA,QAAQ,CAAC,WAAD,CAAR;AACA;AAhBJ;AAkBD,GAnBoB,CAArB;AAqBA,SAAO;AACL,IAAA,IAAI,EAAE,YAAA;AACJ,MAAA,YAAY,CAAC,WAAb;AACD,KAHI;AAIL,IAAA,WAAW,EAAA;AAJN,GAAP;AAMD","sourceRoot":"","sourcesContent":["import { noop } from '@datadog/browser-core';\nimport { RumEventType } from '../rawRumEvent.types';\nimport { LifeCycleEventType } from './lifeCycle';\nexport function trackEventCounts(lifeCycle, callback) {\n    if (callback === void 0) { callback = noop; }\n    var eventCounts = {\n        errorCount: 0,\n        longTaskCount: 0,\n        resourceCount: 0,\n        userActionCount: 0,\n    };\n    var subscription = lifeCycle.subscribe(LifeCycleEventType.RUM_EVENT_COLLECTED, function (_a) {\n        var type = _a.type;\n        switch (type) {\n            case RumEventType.ERROR:\n                eventCounts.errorCount += 1;\n                callback(eventCounts);\n                break;\n            case RumEventType.ACTION:\n                eventCounts.userActionCount += 1;\n                callback(eventCounts);\n                break;\n            case RumEventType.LONG_TASK:\n                eventCounts.longTaskCount += 1;\n                callback(eventCounts);\n                break;\n            case RumEventType.RESOURCE:\n                eventCounts.resourceCount += 1;\n                callback(eventCounts);\n                break;\n        }\n    });\n    return {\n        stop: function () {\n            subscription.unsubscribe();\n        },\n        eventCounts: eventCounts,\n    };\n}\n//# sourceMappingURL=trackEventCounts.js.map"]},"metadata":{},"sourceType":"module"}