{"ast":null,"code":"import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, getTabIndex } from '@progress/kendo-react-common';\nimport { IntlService, useLocalization } from '@progress/kendo-react-intl';\nimport { dropZoneHint, dropZoneNote, restrictionsDropZoneNote, messages } from './messages';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\n/**\n * @hidden\n */\n\nvar TIME_TO_CHECK_DRAG = 100;\n/**\n * Represents the ExternalDropZone component.\n */\n\nexport var ExternalDropZone = React.forwardRef(function (props, ref) {\n  validatePackage(packageMetadata);\n  var target = React.useRef(null);\n  var externalDropZoneRef = React.useRef(null);\n  var intervalRef = React.useRef(null);\n  var isActiveRef = React.useRef(false);\n  var lastElementRef = React.useRef(null);\n  var uploadRef = props.uploadRef;\n  var currentUploadRef = uploadRef.current;\n\n  var _a = React.useState(false),\n      overDropZone = _a[0],\n      setOverDropZone = _a[1];\n\n  var intlService = React.useMemo(function () {\n    return new IntlService('en');\n  }, []);\n  var localization = useLocalization();\n  var localizedHint = localization.toLanguageString(dropZoneHint, messages[dropZoneHint]);\n\n  var _b = React.useState(localization.toLanguageString(dropZoneNote, messages[dropZoneNote])),\n      localizedNote = _b[0],\n      setLocalizedNote = _b[1];\n\n  var hintElement = props.customHint || React.createElement(\"span\", null, localizedHint);\n  var noteElement = props.customNote || React.createElement(\"span\", null, localizedNote);\n  var focus = React.useCallback(function () {\n    if (externalDropZoneRef.current) {\n      externalDropZoneRef.current.focus();\n    }\n  }, [externalDropZoneRef]);\n  React.useImperativeHandle(target, function () {\n    return {\n      element: externalDropZoneRef.current,\n      focus: focus,\n      props: props\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return target.current;\n  });\n  React.useEffect(function () {\n    if (currentUploadRef) {\n      var allowedExtensions = currentUploadRef.props.restrictions.allowedExtensions;\n\n      if (allowedExtensions && allowedExtensions.length) {\n        var noteWithExtensions = intlService.format(localization.toLanguageString(restrictionsDropZoneNote, messages[restrictionsDropZoneNote]), [allowedExtensions]);\n        setLocalizedNote(noteWithExtensions);\n      }\n    }\n  }, [currentUploadRef, localization, intlService]);\n  var isDragOver = React.useCallback(function (prevDate) {\n    return new Date().getTime() - (prevDate || new Date()).getTime() > TIME_TO_CHECK_DRAG;\n  }, []);\n  var handleOnDrop = React.useCallback(function (event) {\n    event.preventDefault();\n    var droppedFiles = event.dataTransfer.files;\n\n    if (droppedFiles.length > 0 && !props.disabled && uploadRef && uploadRef.current) {\n      if (uploadRef.current.onAdd) {\n        event.preventDefault();\n        uploadRef.current.onAdd(droppedFiles);\n      }\n    }\n  }, [props.disabled, uploadRef]);\n  var handleOnElementDragEnter = React.useCallback(function () {\n    if (isActiveRef) {\n      isActiveRef.current = true;\n\n      var locElementInterval = function () {\n        if (isDragOver(lastElementRef.current)) {\n          setOverDropZone(false);\n          isActiveRef.current = false;\n          clearInterval(intervalRef.current);\n          intervalRef.current = null;\n          lastElementRef.current = null;\n        }\n      };\n\n      intervalRef.current = setInterval(locElementInterval, TIME_TO_CHECK_DRAG);\n    }\n  }, [isActiveRef, intervalRef, lastElementRef, isDragOver]);\n  var handleOnElementDragOver = React.useCallback(function (event) {\n    event.preventDefault();\n    lastElementRef.current = new Date();\n    setOverDropZone(true);\n  }, [lastElementRef]);\n  return React.createElement(\"div\", {\n    ref: externalDropZoneRef,\n    id: props.id,\n    className: classNames('k-external-dropzone', {\n      'k-external-dropzone-hover': overDropZone,\n      'k-disabled': props.disabled\n    }, props.className),\n    tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined),\n    onDrop: handleOnDrop,\n    onDragEnter: handleOnElementDragEnter,\n    onDragOver: handleOnElementDragOver\n  }, React.createElement(\"div\", {\n    style: props.style,\n    className: 'k-dropzone-inner'\n  }, React.createElement(\"span\", {\n    className: 'k-icon k-i-upload'\n  }), React.createElement(\"span\", {\n    className: 'k-dropzone-hint'\n  }, hintElement), React.createElement(\"span\", {\n    className: 'k-dropzone-note'\n  }, noteElement)));\n});\nvar propTypes = {\n  id: PropTypes.string,\n  tabIndex: PropTypes.number,\n  editorRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.any\n  })]),\n  disabled: PropTypes.bool\n};\nExternalDropZone.displayName = 'KendoReactExternalDropZone';\nExternalDropZone.propTypes = propTypes;","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-react-upload/dist/es/ExternalDropZone.js"],"names":["React","PropTypes","classNames","getTabIndex","IntlService","useLocalization","dropZoneHint","dropZoneNote","restrictionsDropZoneNote","messages","validatePackage","packageMetadata","TIME_TO_CHECK_DRAG","ExternalDropZone","forwardRef","props","ref","target","useRef","externalDropZoneRef","intervalRef","isActiveRef","lastElementRef","uploadRef","currentUploadRef","current","_a","useState","overDropZone","setOverDropZone","intlService","useMemo","localization","localizedHint","toLanguageString","_b","localizedNote","setLocalizedNote","hintElement","customHint","createElement","noteElement","customNote","focus","useCallback","useImperativeHandle","element","useEffect","allowedExtensions","restrictions","length","noteWithExtensions","format","isDragOver","prevDate","Date","getTime","handleOnDrop","event","preventDefault","droppedFiles","dataTransfer","files","disabled","onAdd","handleOnElementDragEnter","locElementInterval","clearInterval","setInterval","handleOnElementDragOver","id","className","tabIndex","undefined","onDrop","onDragEnter","onDragOver","style","propTypes","string","number","editorRef","oneOfType","func","shape","any","bool","displayName"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, getTabIndex } from '@progress/kendo-react-common';\nimport { IntlService, useLocalization } from '@progress/kendo-react-intl';\nimport { dropZoneHint, dropZoneNote, restrictionsDropZoneNote, messages } from './messages';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\n/**\n * @hidden\n */\nvar TIME_TO_CHECK_DRAG = 100;\n/**\n * Represents the ExternalDropZone component.\n */\nexport var ExternalDropZone = React.forwardRef(function (props, ref) {\n    validatePackage(packageMetadata);\n    var target = React.useRef(null);\n    var externalDropZoneRef = React.useRef(null);\n    var intervalRef = React.useRef(null);\n    var isActiveRef = React.useRef(false);\n    var lastElementRef = React.useRef(null);\n    var uploadRef = props.uploadRef;\n    var currentUploadRef = uploadRef.current;\n    var _a = React.useState(false), overDropZone = _a[0], setOverDropZone = _a[1];\n    var intlService = React.useMemo(function () { return new IntlService('en'); }, []);\n    var localization = useLocalization();\n    var localizedHint = localization.toLanguageString(dropZoneHint, messages[dropZoneHint]);\n    var _b = React.useState(localization.toLanguageString(dropZoneNote, messages[dropZoneNote])), localizedNote = _b[0], setLocalizedNote = _b[1];\n    var hintElement = props.customHint || React.createElement(\"span\", null, localizedHint);\n    var noteElement = props.customNote || React.createElement(\"span\", null, localizedNote);\n    var focus = React.useCallback(function () {\n        if (externalDropZoneRef.current) {\n            externalDropZoneRef.current.focus();\n        }\n    }, [externalDropZoneRef]);\n    React.useImperativeHandle(target, function () { return ({\n        element: externalDropZoneRef.current,\n        focus: focus,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    React.useEffect(function () {\n        if (currentUploadRef) {\n            var allowedExtensions = currentUploadRef.props.restrictions.allowedExtensions;\n            if (allowedExtensions && allowedExtensions.length) {\n                var noteWithExtensions = intlService.format(localization.toLanguageString(restrictionsDropZoneNote, messages[restrictionsDropZoneNote]), [\n                    allowedExtensions\n                ]);\n                setLocalizedNote(noteWithExtensions);\n            }\n        }\n    }, [currentUploadRef, localization, intlService]);\n    var isDragOver = React.useCallback(function (prevDate) {\n        return (new Date().getTime() - (prevDate || new Date()).getTime()) > TIME_TO_CHECK_DRAG;\n    }, []);\n    var handleOnDrop = React.useCallback(function (event) {\n        event.preventDefault();\n        var droppedFiles = event.dataTransfer.files;\n        if (droppedFiles.length > 0 && !props.disabled && uploadRef && uploadRef.current) {\n            if (uploadRef.current.onAdd) {\n                event.preventDefault();\n                uploadRef.current.onAdd(droppedFiles);\n            }\n        }\n    }, [props.disabled, uploadRef]);\n    var handleOnElementDragEnter = React.useCallback(function () {\n        if (isActiveRef) {\n            isActiveRef.current = true;\n            var locElementInterval = function () {\n                if (isDragOver(lastElementRef.current)) {\n                    setOverDropZone(false);\n                    isActiveRef.current = false;\n                    clearInterval(intervalRef.current);\n                    intervalRef.current = null;\n                    lastElementRef.current = null;\n                }\n            };\n            intervalRef.current = setInterval(locElementInterval, TIME_TO_CHECK_DRAG);\n        }\n    }, [isActiveRef, intervalRef, lastElementRef, isDragOver]);\n    var handleOnElementDragOver = React.useCallback(function (event) {\n        event.preventDefault();\n        lastElementRef.current = new Date();\n        setOverDropZone(true);\n    }, [lastElementRef]);\n    return (React.createElement(\"div\", { ref: externalDropZoneRef, id: props.id, className: classNames('k-external-dropzone', {\n            'k-external-dropzone-hover': overDropZone,\n            'k-disabled': props.disabled\n        }, props.className), tabIndex: getTabIndex(props.tabIndex, props.disabled, undefined), onDrop: handleOnDrop, onDragEnter: handleOnElementDragEnter, onDragOver: handleOnElementDragOver },\n        React.createElement(\"div\", { style: props.style, className: 'k-dropzone-inner' },\n            React.createElement(\"span\", { className: 'k-icon k-i-upload' }),\n            React.createElement(\"span\", { className: 'k-dropzone-hint' }, hintElement),\n            React.createElement(\"span\", { className: 'k-dropzone-note' }, noteElement))));\n});\nvar propTypes = {\n    id: PropTypes.string,\n    tabIndex: PropTypes.number,\n    editorRef: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.shape({ current: PropTypes.any })\n    ]),\n    disabled: PropTypes.bool\n};\nExternalDropZone.displayName = 'KendoReactExternalDropZone';\nExternalDropZone.propTypes = propTypes;\n"]},"metadata":{},"sourceType":"module"}