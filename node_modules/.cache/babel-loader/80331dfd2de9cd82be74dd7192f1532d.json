{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Keys, dispatchEvent, guid, kendoThemeMaps, classNames } from '@progress/kendo-react-common';\nimport nav from './utils/getItemIdUponKeyboardNavigation';\nimport { resolveItemId, isEnabledAndAllParentsEnabled, hasChildren } from './utils/itemUtils';\nimport { TreeViewItem } from './TreeViewItem';\nimport { ZERO_LEVEL_ZERO_NODE_ID, getItemById } from './utils/itemIdUtils';\nimport FieldsService from './utils/FieldsService';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport { CHECK_FIELD, CHECK_INDETERMINATE_FIELD, CHILDREN_FIELD, DISABLED_FIELD, EXPAND_FIELD, HAS_CHILDREN_FIELD, SELECT_FIELD, TEXT_FIELD } from './utils/consts';\nvar sizeMap = kendoThemeMaps.sizeMap;\n/**\n * Represents the [KendoReact TreeView component]({% slug overview_treeview %}).\n *\n * @example\n * ```jsx\n * const data = [{\n *     text: 'Furniture', expanded: true, items: [\n *         { text: 'Tables & Chairs' }, { text: 'Sofas' }, { text: 'Occasional Furniture' }]\n * }, {\n *     text: 'Decor', expanded: true, items: [\n *         { text: 'Bed Linen' }, { text: 'Curtains & Blinds' }, { text: 'Carpets' }]\n * }];\n * class App extends React.Component {\n *     render() {\n *         return <TreeView data={data} />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nvar TreeView =\n/** @class */\nfunction (_super) {\n  __extends(TreeView, _super);\n\n  function TreeView(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {\n      focusedItemId: undefined,\n      focusedItemPublicId: undefined,\n      tabbableItemId: ZERO_LEVEL_ZERO_NODE_ID\n    };\n    _this.fieldsSvc = null; // When there is a change in state.focusedItemId, calling focus() on the dom element of the focused item\n    // is most often not needed, because the browser focuses the element on its own.\n    // https://github.com/telerik/kendo-react/issues/190\n\n    _this.allowExplicitFocus = false;\n    _this.treeGuid = guid();\n    _this._element = null;\n\n    _this.onFocusDomElNeeded = function (domItem) {\n      if (_this.allowExplicitFocus) {\n        _this.focusDomItem(domItem);\n      }\n    };\n\n    _this.onCheckChange = function (event, item, itemId) {\n      _this.setFocus(itemId);\n\n      _this.dispatchCheckChange(event, item, itemId);\n    };\n\n    _this.onExpandChange = function (event, item, itemId) {\n      _this.setFocus(itemId);\n\n      _this.dispatchExpandChange(event, item, itemId);\n    };\n\n    _this.onPress = function (_event, item, itemId) {\n      if (_this.props.onItemDragStart) {\n        _this.props.onItemDragStart.call(undefined, {\n          target: _this,\n          item: item,\n          itemHierarchicalIndex: itemId\n        });\n      }\n    };\n\n    _this.onDrag = function (event, item, itemId) {\n      var pageX = event.pageX,\n          pageY = event.pageY,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (_this.props.onItemDragOver) {\n        _this.props.onItemDragOver.call(undefined, {\n          target: _this,\n          item: item,\n          itemHierarchicalIndex: itemId,\n          pageX: pageX,\n          pageY: pageY,\n          clientX: clientX,\n          clientY: clientY\n        });\n      }\n    };\n\n    _this.onRelease = function (event, item, itemId) {\n      var pageX = event.pageX,\n          pageY = event.pageY,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (_this.props.onItemDragEnd) {\n        _this.props.onItemDragEnd.call(undefined, {\n          target: _this,\n          item: item,\n          itemHierarchicalIndex: itemId,\n          pageX: pageX,\n          pageY: pageY,\n          clientX: clientX,\n          clientY: clientY\n        });\n      }\n    };\n\n    _this.onItemClick = function (event, item, itemId) {\n      _this.setFocus(itemId);\n\n      _this.dispatchItemClick(event, item, itemId);\n    };\n\n    _this.onFocus = function () {\n      clearTimeout(_this.blurRequest);\n\n      if (_this.state.focusedItemId === undefined && _this.data.length) {\n        _this.setFocus(_this.state.tabbableItemId);\n      }\n    };\n\n    _this.onBlur = function () {\n      clearTimeout(_this.blurRequest);\n      _this.blurRequest = window.setTimeout(function () {\n        return _this.setFocus(undefined);\n      }, 0);\n    };\n\n    _this.onKeyDown = function (event) {\n      var focusedItem = _this.getFocusedItem();\n\n      if (focusedItem && _this.fieldsSvc) {\n        var newItemId = nav(focusedItem, _this.state.focusedItemId, _this.data, event.keyCode, _this.fieldsSvc);\n\n        if (newItemId !== _this.state.focusedItemId) {\n          // This disables the auto-scroll. The scroll is achieved via item focusing.\n          event.preventDefault();\n          _this.allowExplicitFocus = true;\n\n          _this.setFocus(newItemId);\n        }\n\n        _this.dispatchEventsOnKeyDown(event, focusedItem);\n      }\n    };\n\n    validatePackage(packageMetadata);\n    return _this;\n  }\n\n  Object.defineProperty(TreeView.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  TreeView.prototype.render = function () {\n    var _a;\n\n    var _this = this;\n\n    this.fieldsSvc = new FieldsService(this.props);\n    var _b = this.props,\n        size = _b.size,\n        className = _b.className;\n    return React.createElement(\"div\", {\n      className: classNames('k-treeview', (_a = {}, _a[\"k-treeview-\".concat(sizeMap[size] || size)] = size, _a), className),\n      onKeyDown: this.onKeyDown,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      role: \"tree\",\n      \"aria-multiselectable\": this.ariaMultiSelectable ? true : undefined,\n      \"aria-label\": this.props['aria-label'],\n      \"aria-labelledby\": this.props['aria-labelledby'],\n      ref: function (element) {\n        return _this._element = element;\n      },\n      tabIndex: this.props.tabIndex\n    }, React.createElement(\"ul\", {\n      className: \"k-treeview-lines k-treeview-group\",\n      role: \"group\"\n    }, this.data.map(function (item, index) {\n      return React.createElement(TreeViewItem, {\n        item: item,\n        position: index === 0 ? 'top' : index === _this.data.length - 1 ? 'bot' : 'mid',\n        itemId: index.toString(),\n        treeGuid: _this.treeGuid,\n        animate: _this.props.animate,\n        focusedItemId: _this.state.focusedItemId,\n        tabbableItemId: _this.state.tabbableItemId,\n        fieldsService: _this.fieldsSvc,\n        itemUI: _this.props.item,\n        checkboxes: _this.props.checkboxes,\n        ariaMultiSelectable: _this.ariaMultiSelectable,\n        onItemClick: _this.onItemClick,\n        onFocusDomElNeeded: _this.onFocusDomElNeeded,\n        draggable: _this.props.draggable,\n        onPress: _this.onPress,\n        onDrag: _this.onDrag,\n        onRelease: _this.onRelease,\n        expandIcons: _this.props.expandIcons,\n        onExpandChange: _this.onExpandChange,\n        onCheckChange: _this.onCheckChange,\n        key: index,\n        size: size\n      });\n    })));\n  };\n  /**\n   * @hidden\n   */\n\n\n  TreeView.prototype.componentDidUpdate = function () {\n    this.allowExplicitFocus = false;\n    this.refocusDueToFocusIdField();\n  };\n\n  TreeView.prototype.dispatchEventsOnKeyDown = function (event, focusedItem) {\n    var _this = this;\n\n    if (this.fieldsSvc === null) {\n      return;\n    } // isEnabled is the most expensive op and that is why is left last.\n\n\n    var isEnabled = function () {\n      return _this.fieldsSvc && isEnabledAndAllParentsEnabled(_this.state.focusedItemId, _this.data, _this.fieldsSvc);\n    };\n\n    if (event.keyCode === Keys.left && this.fieldsSvc.expanded(focusedItem) && isEnabled()) {\n      this.dispatchExpandChange(event, focusedItem, this.state.focusedItemId);\n    } else if (event.keyCode === Keys.right && !this.fieldsSvc.expanded(focusedItem) && (this.fieldsSvc.hasChildren(focusedItem) || hasChildren(focusedItem, this.props.childrenField)) && isEnabled()) {\n      this.dispatchExpandChange(event, focusedItem, this.state.focusedItemId);\n    } else if (event.keyCode === Keys.enter && isEnabled()) {\n      this.dispatchItemClick(event, focusedItem, this.state.focusedItemId);\n    } else if (event.keyCode === Keys.space && isEnabled()) {\n      // W/o preventDefault() long TreeViews gets incorrectly scrolled.\n      event.preventDefault();\n      this.dispatchCheckChange(event, focusedItem, this.state.focusedItemId);\n    }\n  };\n\n  TreeView.prototype.setFocus = function (focusedItemId) {\n    if (focusedItemId && this.fieldsSvc) {\n      if (this.fieldsSvc.focusIdField) {\n        var item = this.getItemById(focusedItemId);\n        this.setState({\n          focusedItemId: focusedItemId,\n          focusedItemPublicId: this.fieldsSvc.focusId(item)\n        });\n      } else {\n        this.setState({\n          focusedItemId: focusedItemId\n        });\n      }\n    } else {\n      this.setState(function (state) {\n        return {\n          focusedItemId: undefined,\n          focusedItemPublicId: undefined,\n          tabbableItemId: state.focusedItemId\n        };\n      });\n    }\n  };\n\n  TreeView.prototype.getFocusedItem = function () {\n    return this.state.focusedItemId ? this.getItemById(this.state.focusedItemId) : undefined;\n  };\n\n  TreeView.prototype.getItemById = function (itemId) {\n    return getItemById(itemId, this.data, this.props.childrenField || CHILDREN_FIELD);\n  };\n\n  TreeView.prototype.dispatchCheckChange = function (dispatchedEvent, item, itemId) {\n    dispatchEvent(this.props.onCheckChange, dispatchedEvent, this, {\n      item: item,\n      itemHierarchicalIndex: itemId\n    });\n  };\n\n  TreeView.prototype.dispatchExpandChange = function (dispatchedEvent, item, itemId) {\n    dispatchEvent(this.props.onExpandChange, dispatchedEvent, this, {\n      item: item,\n      itemHierarchicalIndex: itemId\n    });\n  };\n\n  TreeView.prototype.dispatchItemClick = function (dispatchedEvent, item, itemId) {\n    dispatchEvent(this.props.onItemClick, dispatchedEvent, this, {\n      item: item,\n      itemHierarchicalIndex: itemId\n    });\n  };\n\n  TreeView.prototype.refocusDueToFocusIdField = function () {\n    if (this.fieldsSvc && this.fieldsSvc.focusIdField) {\n      var focusedItemPublicId = this.state.focusedItemPublicId;\n\n      if (focusedItemPublicId) {\n        var focusedItemId = this.props.getFocusHierarchicalIndex ? this.props.getFocusHierarchicalIndex(focusedItemPublicId) : resolveItemId(focusedItemPublicId, this.fieldsSvc.focusIdField, this.data, this.props.childrenField);\n\n        if (focusedItemId !== this.state.focusedItemId) {\n          this.allowExplicitFocus = true;\n          this.setState({\n            focusedItemId: focusedItemId\n          });\n        }\n      }\n    }\n  };\n\n  Object.defineProperty(TreeView.prototype, \"ariaMultiSelectable\", {\n    get: function () {\n      return this.props['aria-multiselectable'] === true || this.props['aria-multiselectable'] === 'true';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TreeView.prototype, \"data\", {\n    get: function () {\n      return this.props.data || [];\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  TreeView.prototype.focusDomItem = function (domItem) {\n    domItem.focus();\n  };\n\n  Object.defineProperty(TreeView.prototype, \"guid\", {\n    /**\n     * Returns the `guid` which is associated with the TreeView.\n     */\n    get: function () {\n      return this.treeGuid;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  TreeView.propTypes = {\n    data: PropTypes.arrayOf(PropTypes.any),\n    animate: PropTypes.bool,\n    tabIndex: PropTypes.number,\n    focusIdField: PropTypes.string,\n    getHierarchicalIndexById: PropTypes.func,\n    onExpandChange: PropTypes.func,\n    onItemClick: PropTypes.func,\n    expandField: PropTypes.string,\n    selectField: PropTypes.string,\n    childrenField: PropTypes.string,\n    hasChildrenField: PropTypes.string,\n    textField: PropTypes.string,\n    disableField: PropTypes.string,\n    item: PropTypes.any,\n    'aria-multiselectable': function (props, propName, componentName) {\n      if (props[propName] !== undefined && props[propName] !== true && props[propName] !== false && props[propName] !== 'true' && props[propName] !== 'false') {\n        return new Error('Invalid prop `' + propName + '` supplied to' + ' `' + componentName + '`. Validation failed.');\n      }\n\n      return null;\n    },\n    'aria-label': PropTypes.string,\n    'aria-labelledby': PropTypes.string,\n    size: PropTypes.oneOf([null, 'small', 'medium', 'large'])\n  };\n  /**\n   * @hidden\n   */\n\n  TreeView.defaultProps = {\n    animate: true,\n    expandField: EXPAND_FIELD,\n    selectField: SELECT_FIELD,\n    hasChildrenField: HAS_CHILDREN_FIELD,\n    childrenField: CHILDREN_FIELD,\n    textField: TEXT_FIELD,\n    disableField: DISABLED_FIELD,\n    checkField: CHECK_FIELD,\n    checkIndeterminateField: CHECK_INDETERMINATE_FIELD,\n    size: 'medium'\n  };\n  return TreeView;\n}(React.Component);\n\nexport { TreeView };","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-react-treeview/dist/es/TreeView.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","React","PropTypes","Keys","dispatchEvent","guid","kendoThemeMaps","classNames","nav","resolveItemId","isEnabledAndAllParentsEnabled","hasChildren","TreeViewItem","ZERO_LEVEL_ZERO_NODE_ID","getItemById","FieldsService","validatePackage","packageMetadata","CHECK_FIELD","CHECK_INDETERMINATE_FIELD","CHILDREN_FIELD","DISABLED_FIELD","EXPAND_FIELD","HAS_CHILDREN_FIELD","SELECT_FIELD","TEXT_FIELD","sizeMap","TreeView","_super","props","_this","state","focusedItemId","undefined","focusedItemPublicId","tabbableItemId","fieldsSvc","allowExplicitFocus","treeGuid","_element","onFocusDomElNeeded","domItem","focusDomItem","onCheckChange","event","item","itemId","setFocus","dispatchCheckChange","onExpandChange","dispatchExpandChange","onPress","_event","onItemDragStart","target","itemHierarchicalIndex","onDrag","pageX","pageY","clientX","clientY","onItemDragOver","onRelease","onItemDragEnd","onItemClick","dispatchItemClick","onFocus","clearTimeout","blurRequest","data","length","onBlur","window","setTimeout","onKeyDown","focusedItem","getFocusedItem","newItemId","keyCode","preventDefault","dispatchEventsOnKeyDown","defineProperty","get","enumerable","configurable","render","_a","_b","size","className","createElement","concat","role","ariaMultiSelectable","ref","element","tabIndex","map","index","position","toString","animate","fieldsService","itemUI","checkboxes","draggable","expandIcons","key","componentDidUpdate","refocusDueToFocusIdField","isEnabled","left","expanded","right","childrenField","enter","space","focusIdField","setState","focusId","dispatchedEvent","getFocusHierarchicalIndex","focus","propTypes","arrayOf","any","bool","number","string","getHierarchicalIndexById","func","expandField","selectField","hasChildrenField","textField","disableField","propName","componentName","Error","oneOf","defaultProps","checkField","checkIndeterminateField","Component"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Keys, dispatchEvent, guid, kendoThemeMaps, classNames } from '@progress/kendo-react-common';\nimport nav from './utils/getItemIdUponKeyboardNavigation';\nimport { resolveItemId, isEnabledAndAllParentsEnabled, hasChildren } from './utils/itemUtils';\nimport { TreeViewItem } from './TreeViewItem';\nimport { ZERO_LEVEL_ZERO_NODE_ID, getItemById } from './utils/itemIdUtils';\nimport FieldsService from './utils/FieldsService';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport { CHECK_FIELD, CHECK_INDETERMINATE_FIELD, CHILDREN_FIELD, DISABLED_FIELD, EXPAND_FIELD, HAS_CHILDREN_FIELD, SELECT_FIELD, TEXT_FIELD } from './utils/consts';\nvar sizeMap = kendoThemeMaps.sizeMap;\n/**\n * Represents the [KendoReact TreeView component]({% slug overview_treeview %}).\n *\n * @example\n * ```jsx\n * const data = [{\n *     text: 'Furniture', expanded: true, items: [\n *         { text: 'Tables & Chairs' }, { text: 'Sofas' }, { text: 'Occasional Furniture' }]\n * }, {\n *     text: 'Decor', expanded: true, items: [\n *         { text: 'Bed Linen' }, { text: 'Curtains & Blinds' }, { text: 'Carpets' }]\n * }];\n * class App extends React.Component {\n *     render() {\n *         return <TreeView data={data} />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = { focusedItemId: undefined, focusedItemPublicId: undefined, tabbableItemId: ZERO_LEVEL_ZERO_NODE_ID };\n        _this.fieldsSvc = null;\n        // When there is a change in state.focusedItemId, calling focus() on the dom element of the focused item\n        // is most often not needed, because the browser focuses the element on its own.\n        // https://github.com/telerik/kendo-react/issues/190\n        _this.allowExplicitFocus = false;\n        _this.treeGuid = guid();\n        _this._element = null;\n        _this.onFocusDomElNeeded = function (domItem) {\n            if (_this.allowExplicitFocus) {\n                _this.focusDomItem(domItem);\n            }\n        };\n        _this.onCheckChange = function (event, item, itemId) {\n            _this.setFocus(itemId);\n            _this.dispatchCheckChange(event, item, itemId);\n        };\n        _this.onExpandChange = function (event, item, itemId) {\n            _this.setFocus(itemId);\n            _this.dispatchExpandChange(event, item, itemId);\n        };\n        _this.onPress = function (_event, item, itemId) {\n            if (_this.props.onItemDragStart) {\n                _this.props.onItemDragStart.call(undefined, { target: _this, item: item, itemHierarchicalIndex: itemId });\n            }\n        };\n        _this.onDrag = function (event, item, itemId) {\n            var pageX = event.pageX, pageY = event.pageY, clientX = event.clientX, clientY = event.clientY;\n            if (_this.props.onItemDragOver) {\n                _this.props.onItemDragOver.call(undefined, {\n                    target: _this,\n                    item: item,\n                    itemHierarchicalIndex: itemId,\n                    pageX: pageX,\n                    pageY: pageY,\n                    clientX: clientX,\n                    clientY: clientY\n                });\n            }\n        };\n        _this.onRelease = function (event, item, itemId) {\n            var pageX = event.pageX, pageY = event.pageY, clientX = event.clientX, clientY = event.clientY;\n            if (_this.props.onItemDragEnd) {\n                _this.props.onItemDragEnd.call(undefined, {\n                    target: _this,\n                    item: item,\n                    itemHierarchicalIndex: itemId,\n                    pageX: pageX,\n                    pageY: pageY,\n                    clientX: clientX,\n                    clientY: clientY\n                });\n            }\n        };\n        _this.onItemClick = function (event, item, itemId) {\n            _this.setFocus(itemId);\n            _this.dispatchItemClick(event, item, itemId);\n        };\n        _this.onFocus = function () {\n            clearTimeout(_this.blurRequest);\n            if (_this.state.focusedItemId === undefined && _this.data.length) {\n                _this.setFocus(_this.state.tabbableItemId);\n            }\n        };\n        _this.onBlur = function () {\n            clearTimeout(_this.blurRequest);\n            _this.blurRequest = window.setTimeout(function () { return _this.setFocus(undefined); }, 0);\n        };\n        _this.onKeyDown = function (event) {\n            var focusedItem = _this.getFocusedItem();\n            if (focusedItem && _this.fieldsSvc) {\n                var newItemId = nav(focusedItem, _this.state.focusedItemId, _this.data, event.keyCode, _this.fieldsSvc);\n                if (newItemId !== _this.state.focusedItemId) {\n                    // This disables the auto-scroll. The scroll is achieved via item focusing.\n                    event.preventDefault();\n                    _this.allowExplicitFocus = true;\n                    _this.setFocus(newItemId);\n                }\n                _this.dispatchEventsOnKeyDown(event, focusedItem);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(TreeView.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TreeView.prototype.render = function () {\n        var _a;\n        var _this = this;\n        this.fieldsSvc = new FieldsService(this.props);\n        var _b = this.props, size = _b.size, className = _b.className;\n        return (React.createElement(\"div\", { className: classNames('k-treeview', (_a = {},\n                _a[\"k-treeview-\".concat(sizeMap[size] || size)] = size,\n                _a), className), onKeyDown: this.onKeyDown, onFocus: this.onFocus, onBlur: this.onBlur, role: \"tree\", \"aria-multiselectable\": this.ariaMultiSelectable ? true : undefined, \"aria-label\": this.props['aria-label'], \"aria-labelledby\": this.props['aria-labelledby'], ref: function (element) { return _this._element = element; }, tabIndex: this.props.tabIndex },\n            React.createElement(\"ul\", { className: \"k-treeview-lines k-treeview-group\", role: \"group\" }, this.data.map(function (item, index) {\n                return (React.createElement(TreeViewItem, { item: item, position: index === 0 ? 'top' : index === _this.data.length - 1 ? 'bot' : 'mid', itemId: index.toString(), treeGuid: _this.treeGuid, animate: _this.props.animate, focusedItemId: _this.state.focusedItemId, tabbableItemId: _this.state.tabbableItemId, fieldsService: _this.fieldsSvc, itemUI: _this.props.item, checkboxes: _this.props.checkboxes, ariaMultiSelectable: _this.ariaMultiSelectable, onItemClick: _this.onItemClick, onFocusDomElNeeded: _this.onFocusDomElNeeded, draggable: _this.props.draggable, onPress: _this.onPress, onDrag: _this.onDrag, onRelease: _this.onRelease, expandIcons: _this.props.expandIcons, onExpandChange: _this.onExpandChange, onCheckChange: _this.onCheckChange, key: index, size: size }));\n            }))));\n    };\n    /**\n     * @hidden\n     */\n    TreeView.prototype.componentDidUpdate = function () {\n        this.allowExplicitFocus = false;\n        this.refocusDueToFocusIdField();\n    };\n    TreeView.prototype.dispatchEventsOnKeyDown = function (event, focusedItem) {\n        var _this = this;\n        if (this.fieldsSvc === null) {\n            return;\n        }\n        // isEnabled is the most expensive op and that is why is left last.\n        var isEnabled = function () {\n            return _this.fieldsSvc && isEnabledAndAllParentsEnabled(_this.state.focusedItemId, _this.data, _this.fieldsSvc);\n        };\n        if (event.keyCode === Keys.left && this.fieldsSvc.expanded(focusedItem) && isEnabled()) {\n            this.dispatchExpandChange(event, focusedItem, this.state.focusedItemId);\n        }\n        else if (event.keyCode === Keys.right && !this.fieldsSvc.expanded(focusedItem) &&\n            (this.fieldsSvc.hasChildren(focusedItem) || hasChildren(focusedItem, this.props.childrenField)) && isEnabled()) {\n            this.dispatchExpandChange(event, focusedItem, this.state.focusedItemId);\n        }\n        else if (event.keyCode === Keys.enter && isEnabled()) {\n            this.dispatchItemClick(event, focusedItem, this.state.focusedItemId);\n        }\n        else if (event.keyCode === Keys.space && isEnabled()) {\n            // W/o preventDefault() long TreeViews gets incorrectly scrolled.\n            event.preventDefault();\n            this.dispatchCheckChange(event, focusedItem, this.state.focusedItemId);\n        }\n    };\n    TreeView.prototype.setFocus = function (focusedItemId) {\n        if (focusedItemId && this.fieldsSvc) {\n            if (this.fieldsSvc.focusIdField) {\n                var item = this.getItemById(focusedItemId);\n                this.setState({ focusedItemId: focusedItemId, focusedItemPublicId: this.fieldsSvc.focusId(item) });\n            }\n            else {\n                this.setState({ focusedItemId: focusedItemId });\n            }\n        }\n        else {\n            this.setState(function (state) {\n                return {\n                    focusedItemId: undefined,\n                    focusedItemPublicId: undefined,\n                    tabbableItemId: state.focusedItemId\n                };\n            });\n        }\n    };\n    TreeView.prototype.getFocusedItem = function () {\n        return this.state.focusedItemId ? this.getItemById(this.state.focusedItemId) : undefined;\n    };\n    TreeView.prototype.getItemById = function (itemId) {\n        return getItemById(itemId, this.data, this.props.childrenField || CHILDREN_FIELD);\n    };\n    TreeView.prototype.dispatchCheckChange = function (dispatchedEvent, item, itemId) {\n        dispatchEvent(this.props.onCheckChange, dispatchedEvent, this, { item: item, itemHierarchicalIndex: itemId });\n    };\n    TreeView.prototype.dispatchExpandChange = function (dispatchedEvent, item, itemId) {\n        dispatchEvent(this.props.onExpandChange, dispatchedEvent, this, { item: item, itemHierarchicalIndex: itemId });\n    };\n    TreeView.prototype.dispatchItemClick = function (dispatchedEvent, item, itemId) {\n        dispatchEvent(this.props.onItemClick, dispatchedEvent, this, { item: item, itemHierarchicalIndex: itemId });\n    };\n    TreeView.prototype.refocusDueToFocusIdField = function () {\n        if (this.fieldsSvc && this.fieldsSvc.focusIdField) {\n            var focusedItemPublicId = this.state.focusedItemPublicId;\n            if (focusedItemPublicId) {\n                var focusedItemId = this.props.getFocusHierarchicalIndex ?\n                    this.props.getFocusHierarchicalIndex(focusedItemPublicId) :\n                    resolveItemId(focusedItemPublicId, this.fieldsSvc.focusIdField, this.data, this.props.childrenField);\n                if (focusedItemId !== this.state.focusedItemId) {\n                    this.allowExplicitFocus = true;\n                    this.setState({ focusedItemId: focusedItemId });\n                }\n            }\n        }\n    };\n    Object.defineProperty(TreeView.prototype, \"ariaMultiSelectable\", {\n        get: function () {\n            return this.props['aria-multiselectable'] === true || this.props['aria-multiselectable'] === 'true';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TreeView.prototype, \"data\", {\n        get: function () {\n            return this.props.data || [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TreeView.prototype.focusDomItem = function (domItem) {\n        domItem.focus();\n    };\n    Object.defineProperty(TreeView.prototype, \"guid\", {\n        /**\n         * Returns the `guid` which is associated with the TreeView.\n         */\n        get: function () {\n            return this.treeGuid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TreeView.propTypes = {\n        data: PropTypes.arrayOf(PropTypes.any),\n        animate: PropTypes.bool,\n        tabIndex: PropTypes.number,\n        focusIdField: PropTypes.string,\n        getHierarchicalIndexById: PropTypes.func,\n        onExpandChange: PropTypes.func,\n        onItemClick: PropTypes.func,\n        expandField: PropTypes.string,\n        selectField: PropTypes.string,\n        childrenField: PropTypes.string,\n        hasChildrenField: PropTypes.string,\n        textField: PropTypes.string,\n        disableField: PropTypes.string,\n        item: PropTypes.any,\n        'aria-multiselectable': function (props, propName, componentName) {\n            if (props[propName] !== undefined\n                && props[propName] !== true\n                && props[propName] !== false\n                && props[propName] !== 'true'\n                && props[propName] !== 'false') {\n                return new Error('Invalid prop `' + propName + '` supplied to' +\n                    ' `' + componentName + '`. Validation failed.');\n            }\n            return null;\n        },\n        'aria-label': PropTypes.string,\n        'aria-labelledby': PropTypes.string,\n        size: PropTypes.oneOf([null, 'small', 'medium', 'large'])\n    };\n    /**\n     * @hidden\n     */\n    TreeView.defaultProps = {\n        animate: true,\n        expandField: EXPAND_FIELD,\n        selectField: SELECT_FIELD,\n        hasChildrenField: HAS_CHILDREN_FIELD,\n        childrenField: CHILDREN_FIELD,\n        textField: TEXT_FIELD,\n        disableField: DISABLED_FIELD,\n        checkField: CHECK_FIELD,\n        checkIndeterminateField: CHECK_INDETERMINATE_FIELD,\n        size: 'medium'\n    };\n    return TreeView;\n}(React.Component));\nexport { TreeView };\n"]},"metadata":{},"sourceType":"module"}