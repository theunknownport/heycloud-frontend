{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar _a, _b;\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { Keys, noop } from '@progress/kendo-react-common';\nimport { provideIntlService, registerForIntl } from '@progress/kendo-react-intl';\nimport { Virtualization } from '../virtualization/Virtualization';\nimport { TIME_PART } from './models';\nimport { SecondsService, MinutesService, HoursService, DayPeriodService, DOMService } from './services';\nimport { debounce, MAX_TIME, MIDNIGHT_DATE } from '../utils';\nvar SCROLL_THRESHOLD = 2; // < 2px threshold\n\nvar SNAP_THRESHOLD = 0.05; // % of the item height\n\nvar SCROLL_THROTTLE = 100; // ms\n\nvar SKIP = 0;\nvar getters = (_a = {}, _a[Keys.end] = function (data, _) {\n  return data[data.length - 1];\n}, _a[Keys.home] = function (data, _) {\n  return data[0];\n}, _a[Keys.up] = function (data, index) {\n  return data[index - 1];\n}, _a[Keys.down] = function (data, index) {\n  return data[index + 1];\n}, _a);\nvar services = (_b = {}, _b[TIME_PART.dayperiod] = DayPeriodService, _b[TIME_PART.hour] = HoursService, _b[TIME_PART.minute] = MinutesService, _b[TIME_PART.second] = SecondsService, _b);\n/**\n * @hidden\n */\n\nvar TimeList =\n/** @class */\nfunction (_super) {\n  __extends(TimeList, _super);\n\n  function TimeList(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.intl = null;\n    _this._element = null;\n    _this.service = null;\n    _this.virtualization = null;\n    _this.topOffset = 0;\n    _this.bottomOffset = 0;\n    _this.itemHeight = 0;\n    _this.listHeight = 0;\n    _this.topThreshold = 0;\n    _this.bottomThreshold = 0;\n    _this.animateToIndex = false;\n\n    _this.focus = function (args) {\n      Promise.resolve().then(function () {\n        if (!_this.element) {\n          return;\n        }\n\n        _this.element.focus(args);\n      });\n    };\n\n    _this.itemOffset = function (scrollTop) {\n      if (!_this.virtualization || !_this.service) {\n        return -1;\n      }\n\n      var valueIndex = _this.service.selectedIndex(_this.props.value);\n\n      var activeIndex = _this.virtualization.activeIndex();\n\n      var offset = _this.virtualization.itemOffset(activeIndex);\n\n      var distance = Math.abs(Math.ceil(scrollTop) - offset);\n\n      if (valueIndex === activeIndex && distance < SCROLL_THRESHOLD) {\n        return offset;\n      }\n\n      var scrollUp = valueIndex > activeIndex;\n      var moveToNext = scrollUp && distance >= _this.bottomThreshold || !scrollUp && distance > _this.topThreshold;\n      return moveToNext ? _this.virtualization.itemOffset(activeIndex + 1) : offset;\n    };\n\n    _this.calculateHeights = function () {\n      if (!_this.dom.didCalculate) {\n        return;\n      }\n\n      _this.itemHeight = _this.dom.itemHeight;\n      _this.listHeight = _this.dom.timeListHeight;\n      _this.topOffset = (_this.listHeight - _this.itemHeight) / 2;\n      _this.bottomOffset = _this.listHeight - _this.itemHeight;\n      _this.topThreshold = _this.itemHeight * SNAP_THRESHOLD;\n      _this.bottomThreshold = _this.itemHeight * (1 - SNAP_THRESHOLD);\n    };\n\n    _this.configureServices = function (_a) {\n      var _b = _a === void 0 ? _this.props : _a,\n          min = _b.min,\n          max = _b.max,\n          value = _b.value;\n\n      if (_this.service) {\n        var _c = _this.service.limitRange(min || _this.min, max || _this.max, value || _this.props.value),\n            newMin = _c[0],\n            newMax = _c[1];\n\n        _this.service.configure(_this.serviceSettings({\n          min: newMin,\n          max: newMax\n        }));\n      }\n    };\n\n    _this.serviceSettings = function (settings) {\n      var defaults = {\n        boundRange: _this.props.boundRange || TimeList.defaultProps.boundRange,\n        insertUndividedMax: false,\n        min: cloneDate(_this.min),\n        max: cloneDate(_this.max),\n        part: _this.props.part,\n        step: _this.step\n      };\n      var result = Object.assign({}, defaults, settings);\n      result.boundRange = result.part.type !== 'hour' || _this.props.boundRange || TimeList.defaultProps.boundRange;\n      return result;\n    };\n\n    _this.handleScrollAction = function (_a) {\n      var target = _a.target,\n          animationInProgress = _a.animationInProgress;\n\n      if (!_this.virtualization || !_this.service) {\n        return;\n      }\n\n      if (target && !animationInProgress) {\n        _this.animateToIndex = false;\n\n        var index = _this.virtualization.itemIndex(_this.itemOffset(target.scrollTop));\n\n        var dataItem = _this.service.data(_this.props.value)[index];\n\n        _this.handleChange(dataItem);\n      }\n    };\n\n    _this.handleFocus = function (event) {\n      var onFocus = _this.props.onFocus;\n\n      if (onFocus) {\n        onFocus.call(undefined, event);\n      }\n    };\n\n    _this.handleBlur = function (event) {\n      var onBlur = _this.props.onBlur;\n\n      if (onBlur) {\n        onBlur.call(undefined, event);\n      }\n    };\n\n    _this.handleMouseOver = function () {\n      if (!_this._element) {\n        return;\n      }\n\n      if (document && document.activeElement !== _this._element && _this.props.show) {\n        _this._element.focus({\n          preventScroll: true\n        });\n      }\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (!_this.service) {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n\n      if (keyCode === Keys.down || keyCode === Keys.up || keyCode === Keys.end || keyCode === Keys.home) {\n        event.preventDefault();\n      }\n\n      var getter = getters[event.keyCode] || noop;\n      var dataItem = getter(_this.service.data(_this.props.value), _this.service.selectedIndex(_this.props.value));\n\n      if (dataItem) {\n        _this.handleChange(dataItem);\n      }\n    };\n\n    _this.handleChange = debounce(function (dataItem) {\n      if (!_this.service) {\n        return;\n      }\n\n      var candidate = _this.service.apply(_this.props.value, dataItem.value);\n\n      if (_this.props.value.getTime() === candidate.getTime()) {\n        return;\n      }\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange.call(undefined, candidate);\n      }\n    }, SCROLL_THROTTLE);\n    _this.dom = new DOMService();\n    return _this;\n  }\n\n  Object.defineProperty(TimeList.prototype, \"element\", {\n    get: function () {\n      return this._element;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TimeList.prototype, \"animate\", {\n    get: function () {\n      return Boolean(this.props.smoothScroll && this.animateToIndex);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TimeList.prototype, \"min\", {\n    get: function () {\n      return this.props.min || TimeList.defaultProps.min;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TimeList.prototype, \"max\", {\n    get: function () {\n      return this.props.max || TimeList.defaultProps.max;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TimeList.prototype, \"step\", {\n    get: function () {\n      return this.props.step !== undefined && this.props.step !== 0 ? Math.floor(this.props.step) : TimeList.defaultProps.step;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  TimeList.prototype.componentDidMount = function () {\n    var _this = this; // Async calculation of height to avoid animation cancellation\n\n\n    Promise.resolve().then(function () {\n      if (!_this._element) {\n        return;\n      }\n\n      _this.dom.calculateHeights(_this._element);\n\n      _this.forceUpdate();\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  TimeList.prototype.componentDidUpdate = function () {\n    if (!this.virtualization || !this.service) {\n      return;\n    }\n\n    var index = this.service.selectedIndex(this.props.value);\n    this.virtualization[this.animate ? 'animateToIndex' : 'scrollToIndex'](index);\n    this.animateToIndex = true;\n  };\n  /**\n   * @hidden\n   */\n\n\n  TimeList.prototype.render = function () {\n    var _this = this;\n\n    if (!this.props.part.type || !services[this.props.part.type]) {\n      return;\n    }\n\n    this.calculateHeights();\n    this.intl = provideIntlService(this);\n    this.service = new services[this.props.part.type](this.intl);\n    this.configureServices();\n    var data = this.service.data(this.props.value);\n    var transform = 'translateY(' + this.topOffset + 'px)';\n    var total = this.service.total(this.props.value);\n    var list = React.createElement(\"ul\", {\n      style: {\n        transform: transform,\n        msTransform: transform\n      },\n      className: \"k-reset\"\n    }, data.map(function (item, idx) {\n      return React.createElement(\"li\", {\n        key: idx,\n        className: \"k-item\",\n        onClick: function () {\n          _this.handleChange(item);\n        }\n      }, React.createElement(\"span\", null, item.text));\n    }));\n    return React.createElement(\"div\", {\n      className: \"k-time-list\",\n      id: String(this.props.id || ''),\n      tabIndex: this.props.disabled ? -1 : 0,\n      ref: function (el) {\n        _this._element = el;\n      },\n      onKeyDown: this.handleKeyDown,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onMouseOver: this.handleMouseOver\n    }, this.dom.didCalculate ? React.createElement(Virtualization, {\n      bottomOffset: this.bottomOffset,\n      children: list,\n      className: \"k-time-container\",\n      itemHeight: this.itemHeight,\n      maxScrollDifference: this.listHeight,\n      onScrollAction: this.handleScrollAction,\n      ref: function (el) {\n        _this.virtualization = el;\n      },\n      role: \"presentation\",\n      skip: SKIP,\n      tabIndex: -1,\n      take: total,\n      topOffset: this.topOffset,\n      total: total\n    }) : React.createElement(\"div\", {\n      className: \"k-time-container\"\n    }, list));\n  };\n\n  TimeList.propTypes = {\n    id: PropTypes.number,\n    max: PropTypes.instanceOf(Date),\n    min: PropTypes.instanceOf(Date),\n    part: function (props, propName, componentName) {\n      var prop = props[propName];\n\n      if (!prop || !services[prop.type]) {\n        throw new Error(\"\\n                    Invalid prop '\".concat(propName, \"' supplied to \").concat(componentName, \".\\n                    Supported part types are hour|minute|second|dayperiod.\\n                \"));\n      }\n\n      return null;\n    },\n    step: function (props, propName, componentName) {\n      var prop = props[propName];\n\n      if (prop !== undefined && prop <= 0) {\n        throw new Error(\"\\n                    Invalid prop '\".concat(propName, \"' supplied to \").concat(componentName, \".\\n                    \").concat(propName, \" cannot be less than 1.\\n                \"));\n      }\n\n      return null;\n    },\n    value: PropTypes.instanceOf(Date),\n    smoothScroll: PropTypes.bool,\n    show: PropTypes.bool\n  };\n  TimeList.defaultProps = {\n    boundRange: false,\n    max: MAX_TIME,\n    min: MIDNIGHT_DATE,\n    step: 1,\n    smoothScroll: true\n  };\n  return TimeList;\n}(React.Component);\n\nexport { TimeList };\nregisterForIntl(TimeList);","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-react-dateinputs/dist/es/timepicker/TimeList.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","_a","_b","React","PropTypes","cloneDate","Keys","noop","provideIntlService","registerForIntl","Virtualization","TIME_PART","SecondsService","MinutesService","HoursService","DayPeriodService","DOMService","debounce","MAX_TIME","MIDNIGHT_DATE","SCROLL_THRESHOLD","SNAP_THRESHOLD","SCROLL_THROTTLE","SKIP","getters","end","data","_","length","home","up","index","down","services","dayperiod","hour","minute","second","TimeList","_super","props","_this","intl","_element","service","virtualization","topOffset","bottomOffset","itemHeight","listHeight","topThreshold","bottomThreshold","animateToIndex","focus","args","Promise","resolve","then","element","itemOffset","scrollTop","valueIndex","selectedIndex","value","activeIndex","offset","distance","Math","abs","ceil","scrollUp","moveToNext","calculateHeights","dom","didCalculate","timeListHeight","configureServices","min","max","_c","limitRange","newMin","newMax","configure","serviceSettings","settings","defaults","boundRange","defaultProps","insertUndividedMax","part","step","result","assign","type","handleScrollAction","target","animationInProgress","itemIndex","dataItem","handleChange","handleFocus","event","onFocus","undefined","handleBlur","onBlur","handleMouseOver","document","activeElement","show","preventScroll","handleKeyDown","keyCode","preventDefault","getter","candidate","apply","getTime","onChange","defineProperty","get","enumerable","configurable","Boolean","smoothScroll","floor","componentDidMount","forceUpdate","componentDidUpdate","animate","render","transform","total","list","createElement","style","msTransform","className","map","item","idx","key","onClick","text","id","tabIndex","disabled","ref","el","onKeyDown","onMouseOver","children","maxScrollDifference","onScrollAction","role","skip","take","propTypes","number","instanceOf","Date","propName","componentName","prop","Error","concat","bool","Component"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a, _b;\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { cloneDate } from '@progress/kendo-date-math';\nimport { Keys, noop } from '@progress/kendo-react-common';\nimport { provideIntlService, registerForIntl } from '@progress/kendo-react-intl';\nimport { Virtualization } from '../virtualization/Virtualization';\nimport { TIME_PART } from './models';\nimport { SecondsService, MinutesService, HoursService, DayPeriodService, DOMService } from './services';\nimport { debounce, MAX_TIME, MIDNIGHT_DATE } from '../utils';\nvar SCROLL_THRESHOLD = 2; // < 2px threshold\nvar SNAP_THRESHOLD = 0.05; // % of the item height\nvar SCROLL_THROTTLE = 100; // ms\nvar SKIP = 0;\nvar getters = (_a = {},\n    _a[Keys.end] = function (data, _) { return data[data.length - 1]; },\n    _a[Keys.home] = function (data, _) { return data[0]; },\n    _a[Keys.up] = function (data, index) { return data[index - 1]; },\n    _a[Keys.down] = function (data, index) { return data[index + 1]; },\n    _a);\nvar services = (_b = {},\n    _b[TIME_PART.dayperiod] = DayPeriodService,\n    _b[TIME_PART.hour] = HoursService,\n    _b[TIME_PART.minute] = MinutesService,\n    _b[TIME_PART.second] = SecondsService,\n    _b);\n/**\n * @hidden\n */\nvar TimeList = /** @class */ (function (_super) {\n    __extends(TimeList, _super);\n    function TimeList(props) {\n        var _this = _super.call(this, props) || this;\n        _this.intl = null;\n        _this._element = null;\n        _this.service = null;\n        _this.virtualization = null;\n        _this.topOffset = 0;\n        _this.bottomOffset = 0;\n        _this.itemHeight = 0;\n        _this.listHeight = 0;\n        _this.topThreshold = 0;\n        _this.bottomThreshold = 0;\n        _this.animateToIndex = false;\n        _this.focus = function (args) {\n            Promise.resolve().then(function () {\n                if (!_this.element) {\n                    return;\n                }\n                _this.element.focus(args);\n            });\n        };\n        _this.itemOffset = function (scrollTop) {\n            if (!_this.virtualization || !_this.service) {\n                return -1;\n            }\n            var valueIndex = _this.service.selectedIndex(_this.props.value);\n            var activeIndex = _this.virtualization.activeIndex();\n            var offset = _this.virtualization.itemOffset(activeIndex);\n            var distance = Math.abs(Math.ceil(scrollTop) - offset);\n            if (valueIndex === activeIndex && distance < SCROLL_THRESHOLD) {\n                return offset;\n            }\n            var scrollUp = valueIndex > activeIndex;\n            var moveToNext = scrollUp && distance >= _this.bottomThreshold || !scrollUp && distance > _this.topThreshold;\n            return moveToNext ? _this.virtualization.itemOffset(activeIndex + 1) : offset;\n        };\n        _this.calculateHeights = function () {\n            if (!_this.dom.didCalculate) {\n                return;\n            }\n            _this.itemHeight = _this.dom.itemHeight;\n            _this.listHeight = _this.dom.timeListHeight;\n            _this.topOffset = (_this.listHeight - _this.itemHeight) / 2;\n            _this.bottomOffset = _this.listHeight - _this.itemHeight;\n            _this.topThreshold = _this.itemHeight * SNAP_THRESHOLD;\n            _this.bottomThreshold = _this.itemHeight * (1 - SNAP_THRESHOLD);\n        };\n        _this.configureServices = function (_a) {\n            var _b = _a === void 0 ? _this.props : _a, min = _b.min, max = _b.max, value = _b.value;\n            if (_this.service) {\n                var _c = _this.service.limitRange(min || _this.min, max || _this.max, value || _this.props.value), newMin = _c[0], newMax = _c[1];\n                _this.service.configure(_this.serviceSettings({ min: newMin, max: newMax }));\n            }\n        };\n        _this.serviceSettings = function (settings) {\n            var defaults = {\n                boundRange: _this.props.boundRange || TimeList.defaultProps.boundRange,\n                insertUndividedMax: false,\n                min: cloneDate(_this.min),\n                max: cloneDate(_this.max),\n                part: _this.props.part,\n                step: _this.step\n            };\n            var result = Object.assign({}, defaults, settings);\n            result.boundRange = result.part.type !== 'hour' || _this.props.boundRange || TimeList.defaultProps.boundRange;\n            return result;\n        };\n        _this.handleScrollAction = function (_a) {\n            var target = _a.target, animationInProgress = _a.animationInProgress;\n            if (!_this.virtualization || !_this.service) {\n                return;\n            }\n            if (target && !animationInProgress) {\n                _this.animateToIndex = false;\n                var index = _this.virtualization.itemIndex(_this.itemOffset(target.scrollTop));\n                var dataItem = _this.service.data(_this.props.value)[index];\n                _this.handleChange(dataItem);\n            }\n        };\n        _this.handleFocus = function (event) {\n            var onFocus = _this.props.onFocus;\n            if (onFocus) {\n                onFocus.call(undefined, event);\n            }\n        };\n        _this.handleBlur = function (event) {\n            var onBlur = _this.props.onBlur;\n            if (onBlur) {\n                onBlur.call(undefined, event);\n            }\n        };\n        _this.handleMouseOver = function () {\n            if (!_this._element) {\n                return;\n            }\n            if (document && document.activeElement !== _this._element && _this.props.show) {\n                _this._element.focus({ preventScroll: true });\n            }\n        };\n        _this.handleKeyDown = function (event) {\n            if (!_this.service) {\n                return;\n            }\n            var keyCode = event.keyCode;\n            if (keyCode === Keys.down\n                || keyCode === Keys.up\n                || keyCode === Keys.end\n                || keyCode === Keys.home) {\n                event.preventDefault();\n            }\n            var getter = getters[event.keyCode] || noop;\n            var dataItem = getter(_this.service.data(_this.props.value), _this.service.selectedIndex(_this.props.value));\n            if (dataItem) {\n                _this.handleChange(dataItem);\n            }\n        };\n        _this.handleChange = debounce(function (dataItem) {\n            if (!_this.service) {\n                return;\n            }\n            var candidate = _this.service.apply(_this.props.value, dataItem.value);\n            if (_this.props.value.getTime() === candidate.getTime()) {\n                return;\n            }\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                onChange.call(undefined, candidate);\n            }\n        }, SCROLL_THROTTLE);\n        _this.dom = new DOMService();\n        return _this;\n    }\n    Object.defineProperty(TimeList.prototype, \"element\", {\n        get: function () {\n            return this._element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TimeList.prototype, \"animate\", {\n        get: function () {\n            return Boolean(this.props.smoothScroll && this.animateToIndex);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TimeList.prototype, \"min\", {\n        get: function () {\n            return this.props.min || TimeList.defaultProps.min;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TimeList.prototype, \"max\", {\n        get: function () {\n            return this.props.max || TimeList.defaultProps.max;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TimeList.prototype, \"step\", {\n        get: function () {\n            return this.props.step !== undefined && this.props.step !== 0\n                ? Math.floor(this.props.step)\n                : TimeList.defaultProps.step;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    TimeList.prototype.componentDidMount = function () {\n        var _this = this;\n        // Async calculation of height to avoid animation cancellation\n        Promise.resolve().then(function () {\n            if (!_this._element) {\n                return;\n            }\n            _this.dom.calculateHeights(_this._element);\n            _this.forceUpdate();\n        });\n    };\n    /**\n     * @hidden\n     */\n    TimeList.prototype.componentDidUpdate = function () {\n        if (!this.virtualization || !this.service) {\n            return;\n        }\n        var index = this.service.selectedIndex(this.props.value);\n        this.virtualization[this.animate ? 'animateToIndex' : 'scrollToIndex'](index);\n        this.animateToIndex = true;\n    };\n    /**\n     * @hidden\n     */\n    TimeList.prototype.render = function () {\n        var _this = this;\n        if (!this.props.part.type || !services[this.props.part.type]) {\n            return;\n        }\n        this.calculateHeights();\n        this.intl = provideIntlService(this);\n        this.service = new services[this.props.part.type](this.intl);\n        this.configureServices();\n        var data = this.service.data(this.props.value);\n        var transform = 'translateY(' + this.topOffset + 'px)';\n        var total = this.service.total(this.props.value);\n        var list = (React.createElement(\"ul\", { style: { transform: transform, msTransform: transform }, className: \"k-reset\" }, data.map(function (item, idx) {\n            return (React.createElement(\"li\", { key: idx, className: \"k-item\", onClick: function () { _this.handleChange(item); } },\n                React.createElement(\"span\", null, item.text)));\n        })));\n        return (React.createElement(\"div\", { className: \"k-time-list\", id: String(this.props.id || ''), tabIndex: this.props.disabled ? -1 : 0, ref: function (el) { _this._element = el; }, onKeyDown: this.handleKeyDown, onFocus: this.handleFocus, onBlur: this.handleBlur, onMouseOver: this.handleMouseOver }, this.dom.didCalculate\n            ? (React.createElement(Virtualization, { bottomOffset: this.bottomOffset, children: list, className: \"k-time-container\", itemHeight: this.itemHeight, maxScrollDifference: this.listHeight, onScrollAction: this.handleScrollAction, ref: function (el) { _this.virtualization = el; }, role: \"presentation\", skip: SKIP, tabIndex: -1, take: total, topOffset: this.topOffset, total: total }))\n            : (React.createElement(\"div\", { className: \"k-time-container\" }, list))));\n    };\n    TimeList.propTypes = {\n        id: PropTypes.number,\n        max: PropTypes.instanceOf(Date),\n        min: PropTypes.instanceOf(Date),\n        part: function (props, propName, componentName) {\n            var prop = props[propName];\n            if (!prop || !services[prop.type]) {\n                throw new Error(\"\\n                    Invalid prop '\".concat(propName, \"' supplied to \").concat(componentName, \".\\n                    Supported part types are hour|minute|second|dayperiod.\\n                \"));\n            }\n            return null;\n        },\n        step: function (props, propName, componentName) {\n            var prop = props[propName];\n            if (prop !== undefined && prop <= 0) {\n                throw new Error(\"\\n                    Invalid prop '\".concat(propName, \"' supplied to \").concat(componentName, \".\\n                    \").concat(propName, \" cannot be less than 1.\\n                \"));\n            }\n            return null;\n        },\n        value: PropTypes.instanceOf(Date),\n        smoothScroll: PropTypes.bool,\n        show: PropTypes.bool\n    };\n    TimeList.defaultProps = {\n        boundRange: false,\n        max: MAX_TIME,\n        min: MIDNIGHT_DATE,\n        step: 1,\n        smoothScroll: true\n    };\n    return TimeList;\n}(React.Component));\nexport { TimeList };\nregisterForIntl(TimeList);\n"]},"metadata":{},"sourceType":"module"}