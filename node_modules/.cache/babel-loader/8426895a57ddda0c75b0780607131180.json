{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { FormContext } from './FormContext';\nimport { getter, setter, clone, cloneObject, guid } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\n/**\n * @hidden\n */\n\nvar FORCEUPDATE_ACCUMULATOR_TIMEOUT = 0;\n/**\n * Represents the [KendoReact Form component]({% slug overview_form %}).\n *\n * @example\n * ```jsx\n * export const FormInput = (fieldRenderProps) => {\n *     const onValueChange = React.useCallback(\n *         (event) => fieldRenderProps.onChange(event.target.value),\n *         [fieldRenderProps.onChange]\n *     );\n *     return (\n *         <input\n *             className={'k-input'}\n *             value={fieldRenderProps.value}\n *             onChange={onValueChange}\n *         />\n *     );\n * };\n *\n * export const App = () => {\n *     const handleSubmit = (dataItem) => alert(JSON.stringify(dataItem));\n *     return (\n *         <Form\n *             initialValues={{title: ''}}\n *             onSubmit={handleSubmit}\n *             render={(formRenderProps) => (\n *                 <div>\n *                     <Field name={'title'} component={FormInput} />\n *                     <button\n *                         className=\"k-button\"\n *                         disabled={!formRenderProps.allowSubmit}\n *                         onClick={formRenderProps.onSubmit}\n *                     >\n *                         Submit\n *                     </button>\n *                 </div>\n *             )}\n *         />\n *     );\n * };\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nvar Form =\n/** @class */\nfunction (_super) {\n  __extends(Form, _super);\n  /**\n   * @hidden\n   */\n\n\n  function Form(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._id = guid();\n    _this._touched = {};\n    _this._visited = {};\n    _this._modified = {};\n    _this._validatorsByField = {};\n    _this._values = {};\n    _this._fields = {};\n    _this._unmounted = false;\n    _this._submitted = false;\n    /**\n     * @hidden\n     */\n\n    _this.isValid = function () {\n      return _this.isFormValid(_this.errors);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.accumulatedForceUpdate = function () {\n      // IMPORTANT:\n      // Should only be used for updates not comming from editors as it\n      // will cause cursor jump as react will reset the editor to old value\n      if (_this._accumulatorTimeout) {\n        clearTimeout(_this._accumulatorTimeout);\n      }\n\n      _this._accumulatorTimeout = window.setTimeout(function () {\n        _this._accumulatorTimeout = undefined;\n\n        _this.forceUpdate();\n      }, FORCEUPDATE_ACCUMULATOR_TIMEOUT);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.resetForm = function () {\n      _this.values = clone(_this.props.initialValues);\n      _this._id = guid();\n      _this._touched = {};\n      _this._visited = {};\n      _this._modified = {};\n      _this._validatorsByField = {};\n      _this._fields = {};\n      _this._submitted = false;\n\n      _this.forceUpdate();\n    };\n    /**\n     * Method for resetting the form state outside the form component.\n     *\n     * > Use `onReset` only if you cannot achieve the desired behavior through the Field component or by FormRenderProps.\n     */\n\n\n    _this.onReset = function () {\n      return _this.resetForm();\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.addField = function (field) {\n      _this._fields[field] = true;\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onSubmit = function (event) {\n      var touchedVisited = {};\n      var fields = _this.fields;\n\n      if (event) {\n        if (typeof event.preventDefault === 'function') {\n          event.preventDefault();\n        }\n\n        if (typeof event.stopPropagation === 'function') {\n          event.stopPropagation();\n        }\n      }\n\n      fields.forEach(function (fieldName) {\n        touchedVisited[fieldName] = true;\n      }); // show validations\n\n      _this.visited = __assign({}, touchedVisited);\n      _this.touched = __assign({}, touchedVisited);\n      var values = _this.values;\n\n      var isValid = _this.isFormValid(_this.errors);\n\n      var isModified = _this.isFormModified(_this.modified, fields);\n\n      if (_this.props.onSubmitClick) {\n        _this.props.onSubmitClick.call(undefined, {\n          values: values,\n          isValid: isValid,\n          isModified: isModified,\n          event: event\n        });\n      }\n\n      if (isValid && (_this.props.ignoreModified || isModified) && _this.props.onSubmit) {\n        _this._submitted = true;\n\n        _this.props.onSubmit.call(undefined, values, event);\n      }\n\n      _this.forceUpdate();\n    };\n    /**\n     * Method for emiting changes to a specific field outside the form component.\n     *\n     * > Use `onChange` only if you cannot achieve the desired behavior through the Field component by FormRenderProps.\n     */\n\n\n    _this.onChange = function (name, options) {\n      var _a;\n\n      var value = options.value;\n\n      _this.addField(name);\n\n      if (!_this.modified[name]) {\n        _this.modified = __assign(__assign({}, _this.modified), (_a = {}, _a[name] = true, _a));\n      }\n\n      _this.valueSetter(name, value);\n\n      _this.forceUpdate();\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onFocus = function (name, skipForceUpdate) {\n      var _a;\n\n      if (_this.visited[name]) {\n        return;\n      }\n\n      _this.visited = __assign(__assign({}, _this.visited), (_a = {}, _a[name] = true, _a));\n\n      if (!skipForceUpdate) {\n        _this.forceUpdate();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onBlur = function (name, skipForceUpdate) {\n      var _a;\n\n      if (_this.touched[name]) {\n        return;\n      }\n\n      _this.onFocus(name, skipForceUpdate);\n\n      _this.touched = __assign(__assign({}, _this.touched), (_a = {}, _a[name] = true, _a));\n\n      if (!skipForceUpdate) {\n        _this.forceUpdate();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onFieldRegister = function (name, validator) {\n      var _a;\n\n      _this.addField(name); // The sole reason for using class props over state - nextIndex, needed for destroying validators\n\n\n      var oldValidators = _this.validatorsByField[name] || [];\n      var nextIndex = oldValidators.length;\n      _this.validatorsByField = __assign(__assign({}, _this.validatorsByField), (_a = {}, _a[name] = __spreadArray(__spreadArray([], oldValidators, true), [validator], false), _a));\n\n      _this.accumulatedForceUpdate();\n\n      return function () {\n        var _a; // onFieldUnregister:\n\n\n        if (_this._unmounted) {\n          return;\n        }\n\n        var newValidators = __spreadArray([], _this.validatorsByField[name] || [], true);\n\n        var validatorIsUnregistered = Boolean(newValidators[nextIndex]);\n        newValidators[nextIndex] = undefined;\n        _this.validatorsByField = __assign(__assign({}, _this.validatorsByField), (_a = {}, _a[name] = newValidators, _a));\n\n        if (validatorIsUnregistered) {\n          _this.accumulatedForceUpdate();\n        }\n      };\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.isFormValid = function (errors) {\n      return !Object.keys(errors).some(function (fieldName) {\n        return Boolean(errors[fieldName]);\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.isFormModified = function (modified, fields) {\n      return fields.some(function (fieldName) {\n        return modified[fieldName];\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.isFormHasNotTouched = function (touched, fields) {\n      return fields.some(function (fieldName) {\n        return !touched[fieldName];\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.isFormTouched = function (touched, fields) {\n      return fields.some(function (fieldName) {\n        return touched[fieldName];\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.isFormVisited = function (visited, fields) {\n      return fields.some(function (fieldName) {\n        return visited[fieldName];\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.valueGetter = function (fieldName) {\n      return getter(fieldName)(_this.values);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.valueSetter = function (fieldName, value) {\n      return setter(fieldName)(_this.values, value);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onArrayAction = function (name) {\n      var _a;\n\n      _this.addField(name);\n\n      if (!_this.modified[name]) {\n        _this.modified = __assign(__assign({}, _this.modified), (_a = {}, _a[name] = true, _a));\n      }\n\n      _this.onBlur(name, true);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onInsert = function (name, options) {\n      _this.onArrayAction(name);\n\n      var newArray = __spreadArray([], _this.valueGetter(name) || [], true);\n\n      newArray.splice(options.index, 0, options.value);\n\n      _this.valueSetter(name, newArray);\n\n      _this.forceUpdate();\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onUnshift = function (name, options) {\n      _this.onInsert(name, {\n        value: options.value,\n        index: 0\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onPush = function (name, options) {\n      _this.onArrayAction(name);\n\n      var newArray = __spreadArray(__spreadArray([], _this.valueGetter(name) || [], true), [options.value], false);\n\n      _this.valueSetter(name, newArray);\n\n      _this.forceUpdate();\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onPop = function (name) {\n      _this.onArrayAction(name);\n\n      var newArray = __spreadArray([], _this.valueGetter(name) || [], true);\n\n      var value = newArray.pop();\n\n      _this.valueSetter(name, newArray);\n\n      _this.forceUpdate();\n\n      return value;\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onRemove = function (name, options) {\n      _this.onArrayAction(name);\n\n      var newArray = __spreadArray([], _this.valueGetter(name) || [], true);\n\n      var value = newArray.splice(options.index, 1);\n\n      _this.valueSetter(name, newArray);\n\n      _this.forceUpdate();\n\n      return value;\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onReplace = function (name, options) {\n      _this.onArrayAction(name);\n\n      var newArray = __spreadArray([], _this.valueGetter(name) || [], true);\n\n      newArray.splice(options.index, 1, options.value);\n\n      _this.valueSetter(name, newArray);\n\n      _this.forceUpdate();\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onMove = function (name, options) {\n      _this.onArrayAction(name);\n\n      var newArray = __spreadArray([], _this.valueGetter(name) || [], true);\n\n      var value = newArray[options.prevIndex];\n      newArray.splice(options.prevIndex, 1);\n      newArray.splice(options.nextIndex, 0, value);\n\n      _this.valueSetter(name, newArray);\n\n      _this.forceUpdate();\n    };\n\n    validatePackage(packageMetadata);\n    _this.values = clone(props.initialValues);\n    return _this;\n  }\n\n  Object.defineProperty(Form.prototype, \"touched\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._touched;\n    },\n\n    /**\n     * @hidden\n     */\n    set: function (value) {\n      this._touched = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Form.prototype, \"visited\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._visited;\n    },\n\n    /**\n     * @hidden\n     */\n    set: function (value) {\n      this._visited = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Form.prototype, \"modified\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._modified;\n    },\n\n    /**\n     * @hidden\n     */\n    set: function (value) {\n      this._modified = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Form.prototype, \"validatorsByField\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._validatorsByField;\n    },\n\n    /**\n     * @hidden\n     */\n    set: function (value) {\n      this._validatorsByField = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Form.prototype, \"values\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._values;\n    },\n\n    /**\n     * @hidden\n     */\n    set: function (value) {\n      this._values = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Form.prototype, \"fields\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return Object.keys(this._fields);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Form.prototype, \"formErrors\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      if (this.props.validator) {\n        return this.props.validator(this.values, this.valueGetter);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Form.prototype, \"errors\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      var _this = this;\n\n      var errors = {};\n      var fields = this.fields;\n      var validatorsByField = this.validatorsByField;\n      fields.forEach(function (fieldName) {\n        errors[fieldName] = '';\n\n        if (validatorsByField[fieldName]) {\n          var validators_1 = [];\n          validatorsByField[fieldName].forEach(function (validator) {\n            if (Array.isArray(validator)) {\n              validators_1.push.apply(validators_1, validator);\n            } else {\n              validators_1.push(validator);\n            }\n          }); // find first validation error\n\n          validators_1.find(function (validator) {\n            if (validator) {\n              var result = validator(_this.valueGetter(fieldName), _this.valueGetter, {\n                name: fieldName\n              });\n\n              if (result) {\n                errors[fieldName] = result;\n                return true;\n              }\n            }\n\n            return false;\n          });\n        }\n      });\n      var formErrors = this.formErrors;\n\n      if (formErrors) {\n        cloneObject(this.formErrors, errors);\n      }\n\n      return errors;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  Form.prototype.componentWillUnmount = function () {\n    this._unmounted = true;\n\n    if (this._accumulatorTimeout) {\n      clearTimeout(this._accumulatorTimeout);\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  Form.prototype.render = function () {\n    var render = this.props.render;\n    var touched = this.touched;\n    var visited = this.visited;\n    var modified = this.modified;\n    var fields = this.fields;\n    var errors = this.errors;\n    var formValid = this.isFormValid(errors);\n    var formModified = this.isFormModified(modified, fields);\n    var formTouched = this.isFormTouched(touched, fields);\n    var formVisited = this.isFormVisited(visited, fields);\n    var formHasNotTouched = this.isFormHasNotTouched(touched, fields); // 1. The form is not touched, but has errors - allow submit to force validation.\n    // 2. The form is valid and modified - if not modified, disable submit.\n\n    var allowSubmit = formHasNotTouched && !formValid || formValid && (this.props.ignoreModified || formModified);\n    return React.createElement(FormContext.Provider, {\n      key: this._id,\n      value: {\n        id: this._id,\n        valueGetter: this.valueGetter,\n        errors: errors,\n        modified: modified,\n        touched: touched,\n        visited: visited,\n        registerField: this.onFieldRegister,\n        onSubmit: this.onSubmit,\n        onChange: this.onChange,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        onUnshift: this.onUnshift,\n        onPush: this.onPush,\n        onInsert: this.onInsert,\n        onPop: this.onPop,\n        onRemove: this.onRemove,\n        onReplace: this.onReplace,\n        onMove: this.onMove\n      }\n    }, render({\n      valid: formValid,\n      modified: formModified,\n      touched: formTouched,\n      visited: formVisited,\n      submitted: this._submitted,\n      valueGetter: this.valueGetter,\n      errors: errors,\n      allowSubmit: allowSubmit,\n      onChange: this.onChange,\n      onSubmit: this.onSubmit,\n      onFormReset: this.resetForm\n    }));\n  };\n  /**\n   * @hidden\n   */\n\n\n  Form.displayName = 'KendoReactForm';\n  /**\n   * @hidden\n   */\n\n  Form.propTypes = {\n    initialValues: PropTypes.any,\n    onSubmit: PropTypes.func,\n    onSubmitClick: PropTypes.func,\n    render: PropTypes.func.isRequired\n  };\n  return Form;\n}(React.Component);\n\nexport { Form };","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-react-form/dist/es/Form.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","l","ar","slice","concat","React","PropTypes","FormContext","getter","setter","clone","cloneObject","guid","validatePackage","packageMetadata","FORCEUPDATE_ACCUMULATOR_TIMEOUT","Form","_super","props","_this","_id","_touched","_visited","_modified","_validatorsByField","_values","_fields","_unmounted","_submitted","isValid","isFormValid","errors","accumulatedForceUpdate","_accumulatorTimeout","clearTimeout","window","setTimeout","undefined","forceUpdate","resetForm","values","initialValues","onReset","addField","field","onSubmit","event","touchedVisited","fields","preventDefault","stopPropagation","forEach","fieldName","visited","touched","isModified","isFormModified","modified","onSubmitClick","ignoreModified","onChange","name","options","_a","value","valueSetter","onFocus","skipForceUpdate","onBlur","onFieldRegister","validator","oldValidators","validatorsByField","nextIndex","newValidators","validatorIsUnregistered","Boolean","keys","some","isFormHasNotTouched","isFormTouched","isFormVisited","valueGetter","onArrayAction","onInsert","newArray","splice","index","onUnshift","onPush","onPop","pop","onRemove","onReplace","onMove","prevIndex","defineProperty","get","set","enumerable","configurable","validators_1","isArray","push","find","result","formErrors","componentWillUnmount","render","formValid","formModified","formTouched","formVisited","formHasNotTouched","allowSubmit","createElement","Provider","key","id","registerField","valid","submitted","onFormReset","displayName","propTypes","any","func","isRequired","Component"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { FormContext } from './FormContext';\nimport { getter, setter, clone, cloneObject, guid } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\n/**\n * @hidden\n */\nvar FORCEUPDATE_ACCUMULATOR_TIMEOUT = 0;\n/**\n * Represents the [KendoReact Form component]({% slug overview_form %}).\n *\n * @example\n * ```jsx\n * export const FormInput = (fieldRenderProps) => {\n *     const onValueChange = React.useCallback(\n *         (event) => fieldRenderProps.onChange(event.target.value),\n *         [fieldRenderProps.onChange]\n *     );\n *     return (\n *         <input\n *             className={'k-input'}\n *             value={fieldRenderProps.value}\n *             onChange={onValueChange}\n *         />\n *     );\n * };\n *\n * export const App = () => {\n *     const handleSubmit = (dataItem) => alert(JSON.stringify(dataItem));\n *     return (\n *         <Form\n *             initialValues={{title: ''}}\n *             onSubmit={handleSubmit}\n *             render={(formRenderProps) => (\n *                 <div>\n *                     <Field name={'title'} component={FormInput} />\n *                     <button\n *                         className=\"k-button\"\n *                         disabled={!formRenderProps.allowSubmit}\n *                         onClick={formRenderProps.onSubmit}\n *                     >\n *                         Submit\n *                     </button>\n *                 </div>\n *             )}\n *         />\n *     );\n * };\n *\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar Form = /** @class */ (function (_super) {\n    __extends(Form, _super);\n    /**\n     * @hidden\n     */\n    function Form(props) {\n        var _this = _super.call(this, props) || this;\n        _this._id = guid();\n        _this._touched = {};\n        _this._visited = {};\n        _this._modified = {};\n        _this._validatorsByField = {};\n        _this._values = {};\n        _this._fields = {};\n        _this._unmounted = false;\n        _this._submitted = false;\n        /**\n         * @hidden\n         */\n        _this.isValid = function () {\n            return _this.isFormValid(_this.errors);\n        };\n        /**\n         * @hidden\n         */\n        _this.accumulatedForceUpdate = function () {\n            // IMPORTANT:\n            // Should only be used for updates not comming from editors as it\n            // will cause cursor jump as react will reset the editor to old value\n            if (_this._accumulatorTimeout) {\n                clearTimeout(_this._accumulatorTimeout);\n            }\n            _this._accumulatorTimeout = window.setTimeout(function () {\n                _this._accumulatorTimeout = undefined;\n                _this.forceUpdate();\n            }, FORCEUPDATE_ACCUMULATOR_TIMEOUT);\n        };\n        /**\n         * @hidden\n         */\n        _this.resetForm = function () {\n            _this.values = clone(_this.props.initialValues);\n            _this._id = guid();\n            _this._touched = {};\n            _this._visited = {};\n            _this._modified = {};\n            _this._validatorsByField = {};\n            _this._fields = {};\n            _this._submitted = false;\n            _this.forceUpdate();\n        };\n        /**\n         * Method for resetting the form state outside the form component.\n         *\n         * > Use `onReset` only if you cannot achieve the desired behavior through the Field component or by FormRenderProps.\n         */\n        _this.onReset = function () { return _this.resetForm(); };\n        /**\n         * @hidden\n         */\n        _this.addField = function (field) {\n            _this._fields[field] = true;\n        };\n        /**\n         * @hidden\n         */\n        _this.onSubmit = function (event) {\n            var touchedVisited = {};\n            var fields = _this.fields;\n            if (event) {\n                if (typeof event.preventDefault === 'function') {\n                    event.preventDefault();\n                }\n                if (typeof event.stopPropagation === 'function') {\n                    event.stopPropagation();\n                }\n            }\n            fields.forEach(function (fieldName) {\n                touchedVisited[fieldName] = true;\n            });\n            // show validations\n            _this.visited = __assign({}, touchedVisited);\n            _this.touched = __assign({}, touchedVisited);\n            var values = _this.values;\n            var isValid = _this.isFormValid(_this.errors);\n            var isModified = _this.isFormModified(_this.modified, fields);\n            if (_this.props.onSubmitClick) {\n                _this.props.onSubmitClick.call(undefined, {\n                    values: values,\n                    isValid: isValid,\n                    isModified: isModified,\n                    event: event\n                });\n            }\n            if (isValid && (_this.props.ignoreModified || isModified) && _this.props.onSubmit) {\n                _this._submitted = true;\n                _this.props.onSubmit.call(undefined, values, event);\n            }\n            _this.forceUpdate();\n        };\n        /**\n         * Method for emiting changes to a specific field outside the form component.\n         *\n         * > Use `onChange` only if you cannot achieve the desired behavior through the Field component by FormRenderProps.\n         */\n        _this.onChange = function (name, options) {\n            var _a;\n            var value = options.value;\n            _this.addField(name);\n            if (!_this.modified[name]) {\n                _this.modified = __assign(__assign({}, _this.modified), (_a = {}, _a[name] = true, _a));\n            }\n            _this.valueSetter(name, value);\n            _this.forceUpdate();\n        };\n        /**\n         * @hidden\n         */\n        _this.onFocus = function (name, skipForceUpdate) {\n            var _a;\n            if (_this.visited[name]) {\n                return;\n            }\n            _this.visited = __assign(__assign({}, _this.visited), (_a = {}, _a[name] = true, _a));\n            if (!skipForceUpdate) {\n                _this.forceUpdate();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onBlur = function (name, skipForceUpdate) {\n            var _a;\n            if (_this.touched[name]) {\n                return;\n            }\n            _this.onFocus(name, skipForceUpdate);\n            _this.touched = __assign(__assign({}, _this.touched), (_a = {}, _a[name] = true, _a));\n            if (!skipForceUpdate) {\n                _this.forceUpdate();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onFieldRegister = function (name, validator) {\n            var _a;\n            _this.addField(name);\n            // The sole reason for using class props over state - nextIndex, needed for destroying validators\n            var oldValidators = (_this.validatorsByField[name] || []);\n            var nextIndex = oldValidators.length;\n            _this.validatorsByField = __assign(__assign({}, _this.validatorsByField), (_a = {}, _a[name] = __spreadArray(__spreadArray([], oldValidators, true), [validator], false), _a));\n            _this.accumulatedForceUpdate();\n            return function () {\n                var _a;\n                // onFieldUnregister:\n                if (_this._unmounted) {\n                    return;\n                }\n                var newValidators = __spreadArray([], (_this.validatorsByField[name] || []), true);\n                var validatorIsUnregistered = Boolean(newValidators[nextIndex]);\n                newValidators[nextIndex] = undefined;\n                _this.validatorsByField = __assign(__assign({}, _this.validatorsByField), (_a = {}, _a[name] = newValidators, _a));\n                if (validatorIsUnregistered) {\n                    _this.accumulatedForceUpdate();\n                }\n            };\n        };\n        /**\n         * @hidden\n         */\n        _this.isFormValid = function (errors) {\n            return !Object.keys(errors).some(function (fieldName) { return Boolean(errors[fieldName]); });\n        };\n        /**\n         * @hidden\n         */\n        _this.isFormModified = function (modified, fields) {\n            return fields.some(function (fieldName) { return modified[fieldName]; });\n        };\n        /**\n         * @hidden\n         */\n        _this.isFormHasNotTouched = function (touched, fields) {\n            return fields.some(function (fieldName) { return !touched[fieldName]; });\n        };\n        /**\n         * @hidden\n         */\n        _this.isFormTouched = function (touched, fields) {\n            return fields.some(function (fieldName) { return touched[fieldName]; });\n        };\n        /**\n         * @hidden\n         */\n        _this.isFormVisited = function (visited, fields) {\n            return fields.some(function (fieldName) { return visited[fieldName]; });\n        };\n        /**\n         * @hidden\n         */\n        _this.valueGetter = function (fieldName) {\n            return getter(fieldName)(_this.values);\n        };\n        /**\n         * @hidden\n         */\n        _this.valueSetter = function (fieldName, value) {\n            return setter(fieldName)(_this.values, value);\n        };\n        /**\n         * @hidden\n         */\n        _this.onArrayAction = function (name) {\n            var _a;\n            _this.addField(name);\n            if (!_this.modified[name]) {\n                _this.modified = __assign(__assign({}, _this.modified), (_a = {}, _a[name] = true, _a));\n            }\n            _this.onBlur(name, true);\n        };\n        /**\n         * @hidden\n         */\n        _this.onInsert = function (name, options) {\n            _this.onArrayAction(name);\n            var newArray = __spreadArray([], (_this.valueGetter(name) || []), true);\n            newArray.splice(options.index, 0, options.value);\n            _this.valueSetter(name, newArray);\n            _this.forceUpdate();\n        };\n        /**\n         * @hidden\n         */\n        _this.onUnshift = function (name, options) {\n            _this.onInsert(name, {\n                value: options.value,\n                index: 0\n            });\n        };\n        /**\n         * @hidden\n         */\n        _this.onPush = function (name, options) {\n            _this.onArrayAction(name);\n            var newArray = __spreadArray(__spreadArray([], (_this.valueGetter(name) || []), true), [options.value], false);\n            _this.valueSetter(name, newArray);\n            _this.forceUpdate();\n        };\n        /**\n         * @hidden\n         */\n        _this.onPop = function (name) {\n            _this.onArrayAction(name);\n            var newArray = __spreadArray([], (_this.valueGetter(name) || []), true);\n            var value = newArray.pop();\n            _this.valueSetter(name, newArray);\n            _this.forceUpdate();\n            return value;\n        };\n        /**\n         * @hidden\n         */\n        _this.onRemove = function (name, options) {\n            _this.onArrayAction(name);\n            var newArray = __spreadArray([], (_this.valueGetter(name) || []), true);\n            var value = newArray.splice(options.index, 1);\n            _this.valueSetter(name, newArray);\n            _this.forceUpdate();\n            return value;\n        };\n        /**\n         * @hidden\n         */\n        _this.onReplace = function (name, options) {\n            _this.onArrayAction(name);\n            var newArray = __spreadArray([], (_this.valueGetter(name) || []), true);\n            newArray.splice(options.index, 1, options.value);\n            _this.valueSetter(name, newArray);\n            _this.forceUpdate();\n        };\n        /**\n         * @hidden\n         */\n        _this.onMove = function (name, options) {\n            _this.onArrayAction(name);\n            var newArray = __spreadArray([], (_this.valueGetter(name) || []), true);\n            var value = newArray[options.prevIndex];\n            newArray.splice(options.prevIndex, 1);\n            newArray.splice(options.nextIndex, 0, value);\n            _this.valueSetter(name, newArray);\n            _this.forceUpdate();\n        };\n        validatePackage(packageMetadata);\n        _this.values = clone(props.initialValues);\n        return _this;\n    }\n    Object.defineProperty(Form.prototype, \"touched\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._touched;\n        },\n        /**\n         * @hidden\n         */\n        set: function (value) {\n            this._touched = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Form.prototype, \"visited\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._visited;\n        },\n        /**\n         * @hidden\n         */\n        set: function (value) {\n            this._visited = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Form.prototype, \"modified\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._modified;\n        },\n        /**\n         * @hidden\n         */\n        set: function (value) {\n            this._modified = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Form.prototype, \"validatorsByField\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._validatorsByField;\n        },\n        /**\n         * @hidden\n         */\n        set: function (value) {\n            this._validatorsByField = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Form.prototype, \"values\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._values;\n        },\n        /**\n         * @hidden\n         */\n        set: function (value) {\n            this._values = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Form.prototype, \"fields\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return Object.keys(this._fields);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Form.prototype, \"formErrors\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            if (this.props.validator) {\n                return this.props.validator(this.values, this.valueGetter);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Form.prototype, \"errors\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            var _this = this;\n            var errors = {};\n            var fields = this.fields;\n            var validatorsByField = this.validatorsByField;\n            fields.forEach(function (fieldName) {\n                errors[fieldName] = '';\n                if (validatorsByField[fieldName]) {\n                    var validators_1 = [];\n                    validatorsByField[fieldName].forEach(function (validator) {\n                        if (Array.isArray(validator)) {\n                            validators_1.push.apply(validators_1, validator);\n                        }\n                        else {\n                            validators_1.push(validator);\n                        }\n                    });\n                    // find first validation error\n                    validators_1.find(function (validator) {\n                        if (validator) {\n                            var result = validator(_this.valueGetter(fieldName), _this.valueGetter, { name: fieldName });\n                            if (result) {\n                                errors[fieldName] = result;\n                                return true;\n                            }\n                        }\n                        return false;\n                    });\n                }\n            });\n            var formErrors = this.formErrors;\n            if (formErrors) {\n                cloneObject(this.formErrors, errors);\n            }\n            return errors;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Form.prototype.componentWillUnmount = function () {\n        this._unmounted = true;\n        if (this._accumulatorTimeout) {\n            clearTimeout(this._accumulatorTimeout);\n        }\n    };\n    /**\n     * @hidden\n     */\n    Form.prototype.render = function () {\n        var render = this.props.render;\n        var touched = this.touched;\n        var visited = this.visited;\n        var modified = this.modified;\n        var fields = this.fields;\n        var errors = this.errors;\n        var formValid = this.isFormValid(errors);\n        var formModified = this.isFormModified(modified, fields);\n        var formTouched = this.isFormTouched(touched, fields);\n        var formVisited = this.isFormVisited(visited, fields);\n        var formHasNotTouched = this.isFormHasNotTouched(touched, fields);\n        // 1. The form is not touched, but has errors - allow submit to force validation.\n        // 2. The form is valid and modified - if not modified, disable submit.\n        var allowSubmit = (formHasNotTouched && !formValid) || (formValid && (this.props.ignoreModified || formModified));\n        return (React.createElement(FormContext.Provider, { key: this._id, value: {\n                id: this._id,\n                valueGetter: this.valueGetter,\n                errors: errors,\n                modified: modified,\n                touched: touched,\n                visited: visited,\n                registerField: this.onFieldRegister,\n                onSubmit: this.onSubmit,\n                onChange: this.onChange,\n                onFocus: this.onFocus,\n                onBlur: this.onBlur,\n                onUnshift: this.onUnshift,\n                onPush: this.onPush,\n                onInsert: this.onInsert,\n                onPop: this.onPop,\n                onRemove: this.onRemove,\n                onReplace: this.onReplace,\n                onMove: this.onMove\n            } }, render({\n            valid: formValid,\n            modified: formModified,\n            touched: formTouched,\n            visited: formVisited,\n            submitted: this._submitted,\n            valueGetter: this.valueGetter,\n            errors: errors,\n            allowSubmit: allowSubmit,\n            onChange: this.onChange,\n            onSubmit: this.onSubmit,\n            onFormReset: this.resetForm\n        })));\n    };\n    /**\n     * @hidden\n     */\n    Form.displayName = 'KendoReactForm';\n    /**\n     * @hidden\n     */\n    Form.propTypes = {\n        initialValues: PropTypes.any,\n        onSubmit: PropTypes.func,\n        onSubmitClick: PropTypes.func,\n        render: PropTypes.func.isRequired\n    };\n    return Form;\n}(React.Component));\nexport { Form };\n"]},"metadata":{},"sourceType":"module"}