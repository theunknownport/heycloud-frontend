{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Draggable, guid, classNames, focusFirstFocusableChild, getTabIndex, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { Slider } from './../main';\nimport { fitIntoBounds, isPresent } from './utils/misc';\nimport { getColorFromHue, parseColor, getHSV, getColorFromHSV, getRGBA, getColorFromRGBA } from './utils/color-parser';\nimport { cacheHsva, removeCachedColor, getCachedHsva, getCachedRgba, getCachedHex, cacheRgba, cacheHex } from './utils/color-cache';\nimport ColorInput from './ColorInput';\nimport { ColorContrastLabels } from './ColorContrastLabels';\nimport { ColorContrastSvg } from './ColorContrastSvg';\nimport { provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, colorGradientHueSliderLabel, colorGradientAlphaSliderLabel } from './../messages';\nvar FORMAT = 'rgba';\nvar DEFAULT_SELECTED_COLOR = 'rgba(255, 255, 255, 1)';\n/** @hidden */\n\nvar ColorGradientWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(ColorGradientWithoutContext, _super);\n\n  function ColorGradientWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.wrapper = null;\n    /**\n     * @hidden\n     */\n\n    _this.onHexChange = function (hex, value, event) {\n      if (_this.isUncontrolled) {\n        var hsva = getHSV(value);\n\n        _this.setState({\n          hsva: hsva,\n          backgroundColor: getColorFromHue(hsva.h),\n          rgba: getRGBA(value),\n          hex: hex\n        });\n      } else {\n        cacheHex(_this.state.guid, value, hex);\n      }\n\n      _this.dispatchChangeEvent(value, event, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onRgbaChange = function (rgba, event) {\n      var value = getColorFromRGBA(rgba);\n\n      if (_this.isUncontrolled) {\n        var hsva = getHSV(value);\n        var hex = parseColor(value, 'hex');\n\n        _this.setState({\n          hsva: hsva,\n          backgroundColor: getColorFromHue(hsva.h),\n          rgba: rgba,\n          hex: hex\n        });\n      } else {\n        cacheRgba(_this.state.guid, value, rgba);\n      }\n\n      _this.dispatchChangeEvent(value, event.syntheticEvent, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onAlphaSliderChange = function (event) {\n      _this.handleHsvaChange(Object.assign({}, _this.state.hsva, {\n        a: event.value / 100\n      }), event.syntheticEvent, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onHueSliderChange = function (event) {\n      _this.handleHsvaChange(Object.assign({}, _this.state.hsva, {\n        h: event.value\n      }), event.syntheticEvent, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onDrag = function (e) {\n      _this.gradientWrapper.classList.add('k-dragging');\n\n      _this.changePosition(e.event);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onRelease = function () {\n      _this.gradientWrapper.classList.remove('k-dragging');\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onGradientWrapperClick = function (event) {\n      _this.changePosition(event);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.changePosition = function (event) {\n      var gradientRectMetrics = _this.getGradientRectMetrics();\n\n      var deltaX = event.clientX - gradientRectMetrics.left;\n      var deltaY = event.clientY - gradientRectMetrics.top;\n      var left = fitIntoBounds(deltaX, 0, gradientRectMetrics.width);\n      var top = fitIntoBounds(deltaY, 0, gradientRectMetrics.height);\n      var hsva = Object.assign({}, _this.state.hsva, {\n        s: left / gradientRectMetrics.width,\n        v: 1 - top / gradientRectMetrics.height\n      });\n\n      _this.handleHsvaChange(hsva, event, event.nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onFocus = function (nativeEvent) {\n      if (_this.props.onFocus) {\n        _this.props.onFocus.call(undefined, {\n          nativeEvent: nativeEvent,\n          target: _this\n        });\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.focus = function () {\n      focusFirstFocusableChild(_this.wrapper);\n    };\n\n    validatePackage(packageMetadata);\n    var value = props.value || props.defaultValue || parseColor(DEFAULT_SELECTED_COLOR, FORMAT);\n    _this.state = Object.assign({}, ColorGradientWithoutContext.getStateFromValue(value), {\n      isFirstRender: true,\n      guid: guid()\n    });\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.getDerivedStateFromProps = function (props, state) {\n    if (props.value && !state.isFirstRender) {\n      // The component is in controlled mode.\n      return ColorGradientWithoutContext.getStateFromValue(props.value, state.guid);\n    }\n\n    return null;\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.prototype.componentDidMount = function () {\n    this.setAlphaSliderBackground(this.state.backgroundColor);\n\n    if (this.state.isFirstRender) {\n      this.setState({\n        isFirstRender: false\n      });\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.prototype.componentWillUnmount = function () {\n    removeCachedColor(this.state.guid);\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.prototype.componentDidUpdate = function (_, prevState) {\n    if (prevState.backgroundColor !== this.state.backgroundColor) {\n      this.setAlphaSliderBackground(this.state.backgroundColor);\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.prototype.renderRectangleDragHandle = function () {\n    var style = {};\n\n    if (!this.state.isFirstRender) {\n      var gradientRectMetrics = this.getGradientRectMetrics();\n      var top_1 = (1 - this.state.hsva.v) * gradientRectMetrics.height;\n      var left = this.state.hsva.s * gradientRectMetrics.width;\n      style.top = \"\".concat(top_1, \"px\");\n      style.left = \"\".concat(left, \"px\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"k-hsv-draghandle k-draghandle\",\n      style: style\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.prototype.handleHsvaChange = function (hsva, syntheticEvent, nativeEvent) {\n    var value = getColorFromHSV(hsva);\n\n    if (this.isUncontrolled) {\n      var hex = parseColor(value, 'hex');\n      this.setState({\n        hsva: hsva,\n        backgroundColor: getColorFromHue(hsva.h),\n        rgba: getRGBA(value),\n        hex: hex\n      });\n    } else {\n      cacheHsva(this.state.guid, value, hsva);\n    }\n\n    this.dispatchChangeEvent(value, syntheticEvent, nativeEvent);\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.prototype.dispatchChangeEvent = function (value, syntheticEvent, nativeEvent) {\n    if (this.props.onChange) {\n      this.props.onChange.call(undefined, {\n        syntheticEvent: syntheticEvent,\n        nativeEvent: nativeEvent,\n        target: this,\n        value: value\n      });\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.getStateFromValue = function (value, componentGuid) {\n    if (!isPresent(parseColor(value, 'hex'))) {\n      // Validate/sanitize the input.\n      value = DEFAULT_SELECTED_COLOR;\n    }\n\n    var hsva = getCachedHsva(componentGuid, value) || getHSV(value);\n    var rgba = getCachedRgba(componentGuid, value) || getRGBA(value);\n    var hex = getCachedHex(componentGuid, value) || parseColor(value, 'hex');\n    var backgroundColor = getColorFromHue(hsva.h);\n    return {\n      hsva: hsva,\n      backgroundColor: backgroundColor,\n      rgba: rgba,\n      hex: hex\n    };\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.prototype.setAlphaSliderBackground = function (backgroundColor) {\n    if (this.props.opacity && this.alphaSlider && this.alphaSlider.sliderTrack) {\n      this.alphaSlider.sliderTrack.style.background = \"linear-gradient(to top, transparent, \".concat(backgroundColor, \")\");\n    }\n  };\n\n  Object.defineProperty(ColorGradientWithoutContext.prototype, \"isUncontrolled\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.value === undefined;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  ColorGradientWithoutContext.prototype.getGradientRectMetrics = function () {\n    return this.gradientWrapper.getBoundingClientRect();\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColorGradientWithoutContext.prototype.render = function () {\n    var _this = this;\n\n    var lS = provideLocalizationService(this);\n    var className = classNames('k-colorgradient', {\n      'k-disabled': this.props.disabled\n    });\n    return React.createElement(\"div\", {\n      id: this.props.id,\n      className: className,\n      \"aria-disabled\": this.props.disabled ? 'true' : undefined,\n      style: this.props.style,\n      ref: function (el) {\n        return _this.wrapper = el;\n      },\n      tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled),\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-describedby\": this.props.ariaDescribedBy,\n      onFocus: this.onFocus\n    }, React.createElement(\"div\", {\n      className: \"k-colorgradient-canvas k-hstack\"\n    }, React.createElement(\"div\", {\n      className: \"k-hsv-rectangle\",\n      style: {\n        background: this.state.backgroundColor\n      }\n    }, React.createElement(Draggable, {\n      onDrag: this.onDrag,\n      onRelease: this.onRelease,\n      ref: function (el) {\n        return _this.gradientWrapper = el ? el.element : undefined;\n      }\n    }, React.createElement(\"div\", {\n      className: \"k-hsv-gradient\",\n      style: {\n        touchAction: 'none'\n      },\n      onClick: this.onGradientWrapperClick\n    }, this.renderRectangleDragHandle())), this.props.backgroundColor && !this.state.isFirstRender && React.createElement(ColorContrastSvg, {\n      metrics: this.gradientWrapper ? this.getGradientRectMetrics() : undefined,\n      hsva: this.state.hsva,\n      backgroundColor: this.props.backgroundColor\n    })), React.createElement(\"div\", {\n      className: \"k-hsv-controls k-hstack\"\n    }, React.createElement(Slider, {\n      value: this.state.hsva.h,\n      buttons: false,\n      vertical: true,\n      min: 0,\n      max: 360,\n      step: 5,\n      onChange: this.onHueSliderChange,\n      className: \"k-hue-slider k-colorgradient-slider\",\n      disabled: this.props.disabled,\n      ariaLabel: lS.toLanguageString(colorGradientHueSliderLabel, messages[colorGradientHueSliderLabel])\n    }), this.props.opacity && React.createElement(Slider, {\n      value: isPresent(this.state.hsva.a) ? this.state.hsva.a * 100 : 100,\n      buttons: false,\n      vertical: true,\n      min: 0,\n      max: 100,\n      step: 1,\n      ariaLabel: lS.toLanguageString(colorGradientAlphaSliderLabel, messages[colorGradientAlphaSliderLabel]),\n      onChange: this.onAlphaSliderChange,\n      className: \"k-alpha-slider k-colorgradient-slider\",\n      disabled: this.props.disabled,\n      ref: function (el) {\n        return _this.alphaSlider = el;\n      }\n    }))), React.createElement(ColorInput, {\n      rgba: this.state.rgba,\n      onRgbaChange: this.onRgbaChange,\n      hex: this.state.hex,\n      onHexChange: this.onHexChange,\n      opacity: this.props.opacity,\n      disabled: this.props.disabled\n    }), this.props.backgroundColor && React.createElement(ColorContrastLabels, {\n      bgColor: getRGBA(this.props.backgroundColor),\n      rgba: this.state.rgba\n    }));\n  };\n\n  ColorGradientWithoutContext.displayName = 'ColorGradient';\n  /**\n   * @hidden\n   */\n\n  ColorGradientWithoutContext.propTypes = {\n    defaultValue: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    opacity: PropTypes.bool,\n    backgroundColor: PropTypes.string,\n    disabled: PropTypes.bool,\n    style: PropTypes.any,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n  };\n  /**\n   * @hidden\n   */\n\n  ColorGradientWithoutContext.defaultProps = {\n    opacity: true\n  };\n  return ColorGradientWithoutContext;\n}(React.Component);\n\nexport { ColorGradientWithoutContext };\n/**\n * Represents the PropsContext of the `ColorGradient` component.\n * Used for global configuration of all `ColorGradient` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\n\nexport var ColorGradientPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the [KendoReact ColorGradient component]({% slug overview_colorgradient %}).\n *\n * Accepts properties of type [ColorGradientProps]({% slug api_inputs_colorgradientprops %}).\n * Obtaining the `ref` returns an object of type [ColorGradientHandle]({% slug api_inputs_colorgradienthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <ColorGradient />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nexport var ColorGradient = withPropsContext(ColorGradientPropsContext, ColorGradientWithoutContext);\nColorGradient.displayName = 'KendoReactColorGradient';","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-react-inputs/dist/es/colors/ColorGradient.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","React","PropTypes","Draggable","guid","classNames","focusFirstFocusableChild","getTabIndex","createPropsContext","withPropsContext","validatePackage","packageMetadata","Slider","fitIntoBounds","isPresent","getColorFromHue","parseColor","getHSV","getColorFromHSV","getRGBA","getColorFromRGBA","cacheHsva","removeCachedColor","getCachedHsva","getCachedRgba","getCachedHex","cacheRgba","cacheHex","ColorInput","ColorContrastLabels","ColorContrastSvg","provideLocalizationService","messages","colorGradientHueSliderLabel","colorGradientAlphaSliderLabel","FORMAT","DEFAULT_SELECTED_COLOR","ColorGradientWithoutContext","_super","props","_this","wrapper","onHexChange","hex","value","event","isUncontrolled","hsva","setState","backgroundColor","h","rgba","state","dispatchChangeEvent","nativeEvent","onRgbaChange","syntheticEvent","onAlphaSliderChange","handleHsvaChange","assign","a","onHueSliderChange","onDrag","e","gradientWrapper","classList","add","changePosition","onRelease","remove","onGradientWrapperClick","gradientRectMetrics","getGradientRectMetrics","deltaX","clientX","left","deltaY","clientY","top","width","height","s","v","onFocus","undefined","target","focus","defaultValue","getStateFromValue","isFirstRender","getDerivedStateFromProps","componentDidMount","setAlphaSliderBackground","componentWillUnmount","componentDidUpdate","_","prevState","renderRectangleDragHandle","style","top_1","concat","createElement","className","onChange","componentGuid","opacity","alphaSlider","sliderTrack","background","defineProperty","get","enumerable","configurable","getBoundingClientRect","render","lS","disabled","id","ref","el","tabIndex","ariaLabelledBy","ariaDescribedBy","element","touchAction","onClick","metrics","buttons","vertical","min","max","step","ariaLabel","toLanguageString","bgColor","displayName","propTypes","string","func","bool","any","defaultProps","Component","ColorGradientPropsContext","ColorGradient"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Draggable, guid, classNames, focusFirstFocusableChild, getTabIndex, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport { Slider } from './../main';\nimport { fitIntoBounds, isPresent } from './utils/misc';\nimport { getColorFromHue, parseColor, getHSV, getColorFromHSV, getRGBA, getColorFromRGBA } from './utils/color-parser';\nimport { cacheHsva, removeCachedColor, getCachedHsva, getCachedRgba, getCachedHex, cacheRgba, cacheHex } from './utils/color-cache';\nimport ColorInput from './ColorInput';\nimport { ColorContrastLabels } from './ColorContrastLabels';\nimport { ColorContrastSvg } from './ColorContrastSvg';\nimport { provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages, colorGradientHueSliderLabel, colorGradientAlphaSliderLabel } from './../messages';\nvar FORMAT = 'rgba';\nvar DEFAULT_SELECTED_COLOR = 'rgba(255, 255, 255, 1)';\n/** @hidden */\nvar ColorGradientWithoutContext = /** @class */ (function (_super) {\n    __extends(ColorGradientWithoutContext, _super);\n    function ColorGradientWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.wrapper = null;\n        /**\n         * @hidden\n         */\n        _this.onHexChange = function (hex, value, event) {\n            if (_this.isUncontrolled) {\n                var hsva = getHSV(value);\n                _this.setState({ hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: getRGBA(value), hex: hex });\n            }\n            else {\n                cacheHex(_this.state.guid, value, hex);\n            }\n            _this.dispatchChangeEvent(value, event, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onRgbaChange = function (rgba, event) {\n            var value = getColorFromRGBA(rgba);\n            if (_this.isUncontrolled) {\n                var hsva = getHSV(value);\n                var hex = parseColor(value, 'hex');\n                _this.setState({ hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: rgba, hex: hex });\n            }\n            else {\n                cacheRgba(_this.state.guid, value, rgba);\n            }\n            _this.dispatchChangeEvent(value, event.syntheticEvent, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onAlphaSliderChange = function (event) {\n            _this.handleHsvaChange(Object.assign({}, _this.state.hsva, { a: event.value / 100 }), event.syntheticEvent, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onHueSliderChange = function (event) {\n            _this.handleHsvaChange(Object.assign({}, _this.state.hsva, { h: event.value }), event.syntheticEvent, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onDrag = function (e) {\n            _this.gradientWrapper.classList.add('k-dragging');\n            _this.changePosition(e.event);\n        };\n        /**\n         * @hidden\n         */\n        _this.onRelease = function () {\n            _this.gradientWrapper.classList.remove('k-dragging');\n        };\n        /**\n         * @hidden\n         */\n        _this.onGradientWrapperClick = function (event) {\n            _this.changePosition(event);\n        };\n        /**\n         * @hidden\n         */\n        _this.changePosition = function (event) {\n            var gradientRectMetrics = _this.getGradientRectMetrics();\n            var deltaX = event.clientX - gradientRectMetrics.left;\n            var deltaY = event.clientY - gradientRectMetrics.top;\n            var left = fitIntoBounds(deltaX, 0, gradientRectMetrics.width);\n            var top = fitIntoBounds(deltaY, 0, gradientRectMetrics.height);\n            var hsva = Object.assign({}, _this.state.hsva, { s: left / gradientRectMetrics.width, v: 1 - top / gradientRectMetrics.height });\n            _this.handleHsvaChange(hsva, event, event.nativeEvent);\n        };\n        /**\n         * @hidden\n         */\n        _this.onFocus = function (nativeEvent) {\n            if (_this.props.onFocus) {\n                _this.props.onFocus.call(undefined, { nativeEvent: nativeEvent, target: _this });\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            focusFirstFocusableChild(_this.wrapper);\n        };\n        validatePackage(packageMetadata);\n        var value = props.value || props.defaultValue || parseColor(DEFAULT_SELECTED_COLOR, FORMAT);\n        _this.state = Object.assign({}, ColorGradientWithoutContext.getStateFromValue(value), { isFirstRender: true, guid: guid() });\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.getDerivedStateFromProps = function (props, state) {\n        if (props.value && !state.isFirstRender) {\n            // The component is in controlled mode.\n            return ColorGradientWithoutContext.getStateFromValue(props.value, state.guid);\n        }\n        return null;\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.prototype.componentDidMount = function () {\n        this.setAlphaSliderBackground(this.state.backgroundColor);\n        if (this.state.isFirstRender) {\n            this.setState({ isFirstRender: false });\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.prototype.componentWillUnmount = function () {\n        removeCachedColor(this.state.guid);\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.prototype.componentDidUpdate = function (_, prevState) {\n        if (prevState.backgroundColor !== this.state.backgroundColor) {\n            this.setAlphaSliderBackground(this.state.backgroundColor);\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.prototype.renderRectangleDragHandle = function () {\n        var style = {};\n        if (!this.state.isFirstRender) {\n            var gradientRectMetrics = this.getGradientRectMetrics();\n            var top_1 = (1 - this.state.hsva.v) * gradientRectMetrics.height;\n            var left = this.state.hsva.s * gradientRectMetrics.width;\n            style.top = \"\".concat(top_1, \"px\");\n            style.left = \"\".concat(left, \"px\");\n        }\n        return React.createElement(\"div\", { className: \"k-hsv-draghandle k-draghandle\", style: style });\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.prototype.handleHsvaChange = function (hsva, syntheticEvent, nativeEvent) {\n        var value = getColorFromHSV(hsva);\n        if (this.isUncontrolled) {\n            var hex = parseColor(value, 'hex');\n            this.setState({ hsva: hsva, backgroundColor: getColorFromHue(hsva.h), rgba: getRGBA(value), hex: hex });\n        }\n        else {\n            cacheHsva(this.state.guid, value, hsva);\n        }\n        this.dispatchChangeEvent(value, syntheticEvent, nativeEvent);\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.prototype.dispatchChangeEvent = function (value, syntheticEvent, nativeEvent) {\n        if (this.props.onChange) {\n            this.props.onChange.call(undefined, { syntheticEvent: syntheticEvent, nativeEvent: nativeEvent, target: this, value: value });\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.getStateFromValue = function (value, componentGuid) {\n        if (!isPresent(parseColor(value, 'hex'))) {\n            // Validate/sanitize the input.\n            value = DEFAULT_SELECTED_COLOR;\n        }\n        var hsva = getCachedHsva(componentGuid, value) || getHSV(value);\n        var rgba = getCachedRgba(componentGuid, value) || getRGBA(value);\n        var hex = getCachedHex(componentGuid, value) || parseColor(value, 'hex');\n        var backgroundColor = getColorFromHue(hsva.h);\n        return { hsva: hsva, backgroundColor: backgroundColor, rgba: rgba, hex: hex };\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.prototype.setAlphaSliderBackground = function (backgroundColor) {\n        if (this.props.opacity && this.alphaSlider && this.alphaSlider.sliderTrack) {\n            this.alphaSlider.sliderTrack.style.background = \"linear-gradient(to top, transparent, \".concat(backgroundColor, \")\");\n        }\n    };\n    Object.defineProperty(ColorGradientWithoutContext.prototype, \"isUncontrolled\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.value === undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.prototype.getGradientRectMetrics = function () {\n        return this.gradientWrapper.getBoundingClientRect();\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.prototype.render = function () {\n        var _this = this;\n        var lS = provideLocalizationService(this);\n        var className = classNames('k-colorgradient', { 'k-disabled': this.props.disabled });\n        return (React.createElement(\"div\", { id: this.props.id, className: className, \"aria-disabled\": this.props.disabled ? 'true' : undefined, style: this.props.style, ref: function (el) { return _this.wrapper = el; }, tabIndex: getTabIndex(this.props.tabIndex, this.props.disabled), \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, onFocus: this.onFocus },\n            React.createElement(\"div\", { className: \"k-colorgradient-canvas k-hstack\" },\n                React.createElement(\"div\", { className: \"k-hsv-rectangle\", style: { background: this.state.backgroundColor } },\n                    React.createElement(Draggable, { onDrag: this.onDrag, onRelease: this.onRelease, ref: function (el) { return _this.gradientWrapper = el ? el.element : undefined; } },\n                        React.createElement(\"div\", { className: \"k-hsv-gradient\", style: { touchAction: 'none' }, onClick: this.onGradientWrapperClick }, this.renderRectangleDragHandle())),\n                    this.props.backgroundColor && !this.state.isFirstRender &&\n                        React.createElement(ColorContrastSvg, { metrics: this.gradientWrapper ? this.getGradientRectMetrics() : undefined, hsva: this.state.hsva, backgroundColor: this.props.backgroundColor })),\n                React.createElement(\"div\", { className: \"k-hsv-controls k-hstack\" },\n                    React.createElement(Slider, { value: this.state.hsva.h, buttons: false, vertical: true, min: 0, max: 360, step: 5, onChange: this.onHueSliderChange, className: \"k-hue-slider k-colorgradient-slider\", disabled: this.props.disabled, ariaLabel: lS.toLanguageString(colorGradientHueSliderLabel, messages[colorGradientHueSliderLabel]) }),\n                    this.props.opacity &&\n                        React.createElement(Slider, { value: isPresent(this.state.hsva.a) ? this.state.hsva.a * 100 : 100, buttons: false, vertical: true, min: 0, max: 100, step: 1, ariaLabel: lS.toLanguageString(colorGradientAlphaSliderLabel, messages[colorGradientAlphaSliderLabel]), onChange: this.onAlphaSliderChange, className: \"k-alpha-slider k-colorgradient-slider\", disabled: this.props.disabled, ref: function (el) { return _this.alphaSlider = el; } }))),\n            React.createElement(ColorInput, { rgba: this.state.rgba, onRgbaChange: this.onRgbaChange, hex: this.state.hex, onHexChange: this.onHexChange, opacity: this.props.opacity, disabled: this.props.disabled }),\n            this.props.backgroundColor && (React.createElement(ColorContrastLabels, { bgColor: getRGBA(this.props.backgroundColor), rgba: this.state.rgba }))));\n    };\n    ColorGradientWithoutContext.displayName = 'ColorGradient';\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.propTypes = {\n        defaultValue: PropTypes.string,\n        value: PropTypes.string,\n        onChange: PropTypes.func,\n        onFocus: PropTypes.func,\n        opacity: PropTypes.bool,\n        backgroundColor: PropTypes.string,\n        disabled: PropTypes.bool,\n        style: PropTypes.any,\n        id: PropTypes.string,\n        ariaLabelledBy: PropTypes.string,\n        ariaDescribedBy: PropTypes.string\n    };\n    /**\n     * @hidden\n     */\n    ColorGradientWithoutContext.defaultProps = {\n        opacity: true\n    };\n    return ColorGradientWithoutContext;\n}(React.Component));\nexport { ColorGradientWithoutContext };\n/**\n * Represents the PropsContext of the `ColorGradient` component.\n * Used for global configuration of all `ColorGradient` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\nexport var ColorGradientPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact ColorGradient component]({% slug overview_colorgradient %}).\n *\n * Accepts properties of type [ColorGradientProps]({% slug api_inputs_colorgradientprops %}).\n * Obtaining the `ref` returns an object of type [ColorGradientHandle]({% slug api_inputs_colorgradienthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *     render() {\n *         return <ColorGradient />;\n *     }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var ColorGradient = withPropsContext(ColorGradientPropsContext, ColorGradientWithoutContext);\nColorGradient.displayName = 'KendoReactColorGradient';\n"]},"metadata":{},"sourceType":"module"}