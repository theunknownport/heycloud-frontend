{"ast":null,"code":"import { FOCUSABLE_ELEMENTS, KEYBOARD_NAV_DATA_BODY, KEYBOARD_NAV_DATA_HEADER, KEYBOARD_NAV_DATA_ID, KEYBOARD_NAV_DATA_LEVEL, KEYBOARD_NAV_DATA_SCOPE, KEYBOARD_NAV_FILTER_COL_SUFFIX, TABBABLE_ELEMENTS } from './constants';\n/**\n * @hidden\n */\n\nexport var generateNavigatableId = function (navigationId, idPrefix, type) {\n  if (type === void 0) {\n    type = 'cell';\n  }\n\n  return \"\".concat(idPrefix, \"_\").concat(navigationId, \"_\").concat(type);\n};\n/**\n * @hidden\n */\n\nexport var getNavigatableLevel = function (element) {\n  if (!element) {\n    return;\n  }\n\n  return parseInt(element.getAttribute(KEYBOARD_NAV_DATA_LEVEL) || '', 10);\n};\n/**\n * @hidden\n */\n\nexport var getNavigatableId = function (element) {\n  if (!element) {\n    return;\n  }\n\n  var dataId = element.getAttribute(KEYBOARD_NAV_DATA_ID);\n  return dataId ? dataId : undefined;\n};\n/**\n * @hidden\n */\n\nexport var isNavigatable = function (element) {\n  if (!element) {\n    return false;\n  }\n\n  var dataId = element.getAttribute(KEYBOARD_NAV_DATA_ID);\n  return Boolean(dataId);\n};\n/**\n * @hidden\n */\n\nexport var getNavigatableElement = function (scope, options) {\n  if (options === void 0) {\n    options = {\n      level: 0\n    };\n  }\n\n  return scope.querySelector(\"[\".concat(KEYBOARD_NAV_DATA_LEVEL, \"='\").concat(options.level, \"']\"));\n};\n/**\n * @hidden\n */\n\nexport var getClosestNavigatableElement = function (target) {\n  return target.parentElement && target.parentElement.closest(\"[\".concat(KEYBOARD_NAV_DATA_LEVEL, \"]\"));\n};\n/**\n * @hidden\n */\n\nexport var getActiveElement = function (scope, activeId) {\n  return scope.querySelector(\"[\".concat(KEYBOARD_NAV_DATA_ID, \"='\").concat(activeId, \"']\"));\n};\n/**\n * @hidden\n */\n\nexport var getClosestScope = function (target) {\n  return target.parentElement && target.parentElement.closest(\"[\".concat(KEYBOARD_NAV_DATA_SCOPE, \"]\"));\n};\n/**\n * @hidden\n */\n\nexport var getHeaderElement = function (scope) {\n  return scope.querySelector(\"[\".concat(KEYBOARD_NAV_DATA_HEADER, \"]\"));\n};\n/**\n * @hidden\n */\n\nexport var getBodyElement = function (scope) {\n  return scope.querySelector(\"[\".concat(KEYBOARD_NAV_DATA_BODY, \"]\"));\n};\n/**\n * @hidden\n */\n\nexport var getFocusableElements = function (scope, options) {\n  if (options === void 0) {\n    options = {\n      focusable: false\n    };\n  }\n\n  var selectors = options.focusable ? FOCUSABLE_ELEMENTS : TABBABLE_ELEMENTS;\n  return Array.from(scope.querySelectorAll(selectors.join(',')));\n};\n/**\n * @hidden\n */\n\nexport var getNavigatableElements = function (scope, options) {\n  if (options === void 0) {\n    options = {\n      level: 0\n    };\n  }\n\n  if (!scope) {\n    return [];\n  }\n\n  var selector = FOCUSABLE_ELEMENTS.map(function (el) {\n    return el + \"[\".concat(KEYBOARD_NAV_DATA_LEVEL, \"='\").concat(options.level, \"']\");\n  }).join(',');\n  return Array.from(scope.querySelectorAll(selector));\n};\n/**\n * @hidden\n */\n\nexport var filterNavigatableElements = function (options) {\n  if (options === void 0) {\n    options = {\n      level: 0\n    };\n  }\n\n  var selector = FOCUSABLE_ELEMENTS.map(function (sel) {\n    return sel + \"[\".concat(KEYBOARD_NAV_DATA_LEVEL, \"='\").concat(options.level, \"']\");\n  }).join(',');\n  return function (element) {\n    return element.matches(selector);\n  };\n};\n/**\n * @hidden\n */\n\nexport var focusElement = function (options) {\n  var elementForFocus = options.elementForFocus,\n      event = options.event,\n      contextStateRef = options.contextStateRef,\n      prevElement = options.prevElement;\n\n  if (contextStateRef.current && elementForFocus && elementForFocus.focus) {\n    event.preventDefault();\n    elementForFocus.focus();\n\n    if (isNavigatable(elementForFocus)) {\n      elementForFocus.setAttribute('tabIndex', '0');\n      contextStateRef.current.activeId = getNavigatableId(elementForFocus);\n    }\n\n    if (prevElement && isNavigatable(prevElement)) {\n      prevElement.setAttribute('tabIndex', '-1');\n    }\n  }\n};\n/**\n * @hidden\n */\n\nexport var getIdPrefix = function (navigationStateRef) {\n  return navigationStateRef.current ? navigationStateRef.current.idPrefix : '';\n};\n/**\n * @hidden\n */\n\nexport var findNextIdByRowIndex = function (initialRowIndex, cellIndex, elementId, matrix, isReverse) {\n  if (!elementId) {\n    return [];\n  }\n\n  var currentRowIndex = initialRowIndex + (isReverse ? -1 : 1);\n\n  while (currentRowIndex >= 0 && currentRowIndex < matrix.length) {\n    var currentId = matrix[currentRowIndex][cellIndex];\n\n    if (currentId !== elementId) {\n      return [currentId, [currentRowIndex, cellIndex]];\n    }\n\n    currentRowIndex = currentRowIndex + (isReverse ? -1 : 1);\n  }\n\n  return [];\n};\n/**\n * @hidden\n */\n\nexport var findNextIdByCellIndex = function (rowIndex, initialCellIndex, elementId, matrix, isReverse) {\n  if (!elementId) {\n    return [];\n  }\n\n  var currentCellIndex = initialCellIndex + (isReverse ? -1 : 1);\n\n  while (currentCellIndex >= 0 && currentCellIndex < matrix[rowIndex].length) {\n    var currentId = matrix[rowIndex][currentCellIndex];\n\n    if (currentId !== elementId) {\n      return [currentId, [rowIndex, currentCellIndex]];\n    }\n\n    currentCellIndex = currentCellIndex + (isReverse ? -1 : 1);\n  }\n\n  return [];\n};\n/**\n * @hidden\n */\n\nexport var findId = function (navigationMatrix, cellId) {\n  if (!cellId) {\n    return;\n  }\n\n  for (var rowIndex = 0; rowIndex < navigationMatrix.length; rowIndex++) {\n    for (var cellIndex = 0; cellIndex < navigationMatrix[rowIndex].length; cellIndex++) {\n      if (navigationMatrix[rowIndex][cellIndex] === cellId) {\n        return [rowIndex, cellIndex];\n      }\n    }\n  }\n};\n/**\n * @hidden\n */\n\nexport var getNextNavigationIndex = function (navigationStateRef) {\n  return navigationStateRef.current ? navigationStateRef.current.navigationMatrix.length : 0;\n};\n/**\n * @hidden\n */\n\nexport var getFilterColumnId = function (columnId) {\n  return columnId ? \"\".concat(columnId).concat(KEYBOARD_NAV_FILTER_COL_SUFFIX) : '';\n};\n/**\n * @hidden\n */\n\nexport var tableKeyboardNavigationTools = {\n  generateNavigatableId: generateNavigatableId,\n  getNavigatableId: getNavigatableId,\n  getNavigatableLevel: getNavigatableLevel,\n  getNavigatableElement: getNavigatableElement,\n  getClosestNavigatableElement: getClosestNavigatableElement,\n  getActiveElement: getActiveElement,\n  getClosestScope: getClosestScope,\n  getHeaderElement: getHeaderElement,\n  getBodyElement: getBodyElement,\n  getFocusableElements: getFocusableElements,\n  getNavigatableElements: getNavigatableElements,\n  filterNavigatableElements: filterNavigatableElements,\n  focusElement: focusElement,\n  getIdPrefix: getIdPrefix,\n  isNavigatable: isNavigatable,\n  findNextIdByRowIndex: findNextIdByRowIndex,\n  findNextIdByCellIndex: findNextIdByCellIndex,\n  findId: findId,\n  getNextNavigationIndex: getNextNavigationIndex,\n  getFilterColumnId: getFilterColumnId\n};","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-react-data-tools/dist/es/navigation/utils.js"],"names":["FOCUSABLE_ELEMENTS","KEYBOARD_NAV_DATA_BODY","KEYBOARD_NAV_DATA_HEADER","KEYBOARD_NAV_DATA_ID","KEYBOARD_NAV_DATA_LEVEL","KEYBOARD_NAV_DATA_SCOPE","KEYBOARD_NAV_FILTER_COL_SUFFIX","TABBABLE_ELEMENTS","generateNavigatableId","navigationId","idPrefix","type","concat","getNavigatableLevel","element","parseInt","getAttribute","getNavigatableId","dataId","undefined","isNavigatable","Boolean","getNavigatableElement","scope","options","level","querySelector","getClosestNavigatableElement","target","parentElement","closest","getActiveElement","activeId","getClosestScope","getHeaderElement","getBodyElement","getFocusableElements","focusable","selectors","Array","from","querySelectorAll","join","getNavigatableElements","selector","map","el","filterNavigatableElements","sel","matches","focusElement","elementForFocus","event","contextStateRef","prevElement","current","focus","preventDefault","setAttribute","getIdPrefix","navigationStateRef","findNextIdByRowIndex","initialRowIndex","cellIndex","elementId","matrix","isReverse","currentRowIndex","length","currentId","findNextIdByCellIndex","rowIndex","initialCellIndex","currentCellIndex","findId","navigationMatrix","cellId","getNextNavigationIndex","getFilterColumnId","columnId","tableKeyboardNavigationTools"],"mappings":"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","sourcesContent":["import { FOCUSABLE_ELEMENTS, KEYBOARD_NAV_DATA_BODY, KEYBOARD_NAV_DATA_HEADER, KEYBOARD_NAV_DATA_ID, KEYBOARD_NAV_DATA_LEVEL, KEYBOARD_NAV_DATA_SCOPE, KEYBOARD_NAV_FILTER_COL_SUFFIX, TABBABLE_ELEMENTS } from './constants';\n/**\n * @hidden\n */\nexport var generateNavigatableId = function (navigationId, idPrefix, type) {\n    if (type === void 0) { type = 'cell'; }\n    return \"\".concat(idPrefix, \"_\").concat(navigationId, \"_\").concat(type);\n};\n/**\n * @hidden\n */\nexport var getNavigatableLevel = function (element) {\n    if (!element) {\n        return;\n    }\n    return parseInt(element.getAttribute(KEYBOARD_NAV_DATA_LEVEL) || '', 10);\n};\n/**\n * @hidden\n */\nexport var getNavigatableId = function (element) {\n    if (!element) {\n        return;\n    }\n    var dataId = element.getAttribute(KEYBOARD_NAV_DATA_ID);\n    return dataId ? dataId : undefined;\n};\n/**\n * @hidden\n */\nexport var isNavigatable = function (element) {\n    if (!element) {\n        return false;\n    }\n    var dataId = element.getAttribute(KEYBOARD_NAV_DATA_ID);\n    return Boolean(dataId);\n};\n/**\n * @hidden\n */\nexport var getNavigatableElement = function (scope, options) {\n    if (options === void 0) { options = { level: 0 }; }\n    return scope.querySelector(\"[\".concat(KEYBOARD_NAV_DATA_LEVEL, \"='\").concat(options.level, \"']\"));\n};\n/**\n * @hidden\n */\nexport var getClosestNavigatableElement = function (target) {\n    return (target.parentElement &&\n        target.parentElement.closest(\"[\".concat(KEYBOARD_NAV_DATA_LEVEL, \"]\")));\n};\n/**\n * @hidden\n */\nexport var getActiveElement = function (scope, activeId) {\n    return scope.querySelector(\"[\".concat(KEYBOARD_NAV_DATA_ID, \"='\").concat(activeId, \"']\"));\n};\n/**\n * @hidden\n */\nexport var getClosestScope = function (target) {\n    return (target.parentElement &&\n        target.parentElement.closest(\"[\".concat(KEYBOARD_NAV_DATA_SCOPE, \"]\")));\n};\n/**\n * @hidden\n */\nexport var getHeaderElement = function (scope) {\n    return scope.querySelector(\"[\".concat(KEYBOARD_NAV_DATA_HEADER, \"]\"));\n};\n/**\n * @hidden\n */\nexport var getBodyElement = function (scope) {\n    return scope.querySelector(\"[\".concat(KEYBOARD_NAV_DATA_BODY, \"]\"));\n};\n/**\n * @hidden\n */\nexport var getFocusableElements = function (scope, options) {\n    if (options === void 0) { options = { focusable: false }; }\n    var selectors = options.focusable ? FOCUSABLE_ELEMENTS : TABBABLE_ELEMENTS;\n    return Array.from(scope.querySelectorAll(selectors.join(',')));\n};\n/**\n * @hidden\n */\nexport var getNavigatableElements = function (scope, options) {\n    if (options === void 0) { options = { level: 0 }; }\n    if (!scope) {\n        return [];\n    }\n    var selector = FOCUSABLE_ELEMENTS.map(function (el) { return el + \"[\".concat(KEYBOARD_NAV_DATA_LEVEL, \"='\").concat(options.level, \"']\"); }).join(',');\n    return Array.from(scope.querySelectorAll(selector));\n};\n/**\n * @hidden\n */\nexport var filterNavigatableElements = function (options) {\n    if (options === void 0) { options = { level: 0 }; }\n    var selector = FOCUSABLE_ELEMENTS.map(function (sel) { return sel + \"[\".concat(KEYBOARD_NAV_DATA_LEVEL, \"='\").concat(options.level, \"']\"); }).join(',');\n    return function (element) { return element.matches(selector); };\n};\n/**\n * @hidden\n */\nexport var focusElement = function (options) {\n    var elementForFocus = options.elementForFocus, event = options.event, contextStateRef = options.contextStateRef, prevElement = options.prevElement;\n    if (contextStateRef.current && elementForFocus && elementForFocus.focus) {\n        event.preventDefault();\n        elementForFocus.focus();\n        if (isNavigatable(elementForFocus)) {\n            elementForFocus.setAttribute('tabIndex', '0');\n            contextStateRef.current.activeId = getNavigatableId(elementForFocus);\n        }\n        if (prevElement && isNavigatable(prevElement)) {\n            prevElement.setAttribute('tabIndex', '-1');\n        }\n    }\n};\n/**\n * @hidden\n */\nexport var getIdPrefix = function (navigationStateRef) {\n    return navigationStateRef.current ? navigationStateRef.current.idPrefix : '';\n};\n/**\n * @hidden\n */\nexport var findNextIdByRowIndex = function (initialRowIndex, cellIndex, elementId, matrix, isReverse) {\n    if (!elementId) {\n        return [];\n    }\n    var currentRowIndex = initialRowIndex + (isReverse ? -1 : 1);\n    while (currentRowIndex >= 0 && currentRowIndex < matrix.length) {\n        var currentId = matrix[currentRowIndex][cellIndex];\n        if (currentId !== elementId) {\n            return [currentId, [currentRowIndex, cellIndex]];\n        }\n        currentRowIndex = currentRowIndex + (isReverse ? -1 : 1);\n    }\n    return [];\n};\n/**\n * @hidden\n */\nexport var findNextIdByCellIndex = function (rowIndex, initialCellIndex, elementId, matrix, isReverse) {\n    if (!elementId) {\n        return [];\n    }\n    var currentCellIndex = initialCellIndex + (isReverse ? -1 : 1);\n    while (currentCellIndex >= 0 && currentCellIndex < matrix[rowIndex].length) {\n        var currentId = matrix[rowIndex][currentCellIndex];\n        if (currentId !== elementId) {\n            return [currentId, [rowIndex, currentCellIndex]];\n        }\n        currentCellIndex = currentCellIndex + (isReverse ? -1 : 1);\n    }\n    return [];\n};\n/**\n * @hidden\n */\nexport var findId = function (navigationMatrix, cellId) {\n    if (!cellId) {\n        return;\n    }\n    for (var rowIndex = 0; rowIndex < navigationMatrix.length; rowIndex++) {\n        for (var cellIndex = 0; cellIndex < navigationMatrix[rowIndex].length; cellIndex++) {\n            if (navigationMatrix[rowIndex][cellIndex] === cellId) {\n                return [rowIndex, cellIndex];\n            }\n        }\n    }\n};\n/**\n * @hidden\n */\nexport var getNextNavigationIndex = function (navigationStateRef) {\n    return navigationStateRef.current ? navigationStateRef.current.navigationMatrix.length : 0;\n};\n/**\n * @hidden\n */\nexport var getFilterColumnId = function (columnId) {\n    return columnId ? \"\".concat(columnId).concat(KEYBOARD_NAV_FILTER_COL_SUFFIX) : '';\n};\n/**\n * @hidden\n */\nexport var tableKeyboardNavigationTools = {\n    generateNavigatableId: generateNavigatableId,\n    getNavigatableId: getNavigatableId,\n    getNavigatableLevel: getNavigatableLevel,\n    getNavigatableElement: getNavigatableElement,\n    getClosestNavigatableElement: getClosestNavigatableElement,\n    getActiveElement: getActiveElement,\n    getClosestScope: getClosestScope,\n    getHeaderElement: getHeaderElement,\n    getBodyElement: getBodyElement,\n    getFocusableElements: getFocusableElements,\n    getNavigatableElements: getNavigatableElements,\n    filterNavigatableElements: filterNavigatableElements,\n    focusElement: focusElement,\n    getIdPrefix: getIdPrefix,\n    isNavigatable: isNavigatable,\n    findNextIdByRowIndex: findNextIdByRowIndex,\n    findNextIdByCellIndex: findNextIdByCellIndex,\n    findId: findId,\n    getNextNavigationIndex: getNextNavigationIndex,\n    getFilterColumnId: getFilterColumnId\n};\n"]},"metadata":{},"sourceType":"module"}