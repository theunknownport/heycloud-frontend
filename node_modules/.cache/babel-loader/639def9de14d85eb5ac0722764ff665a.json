{"ast":null,"code":"var _a;\n/* tslint:disable:object-literal-sort-keys */\n\n\nimport { addDecades, addCenturies, cloneDate, durationInCenturies, firstYearOfDecade, firstDecadeOfCentury, lastDecadeOfCentury } from '@progress/kendo-date-math';\nimport { Action, EMPTY_SELECTIONRANGE } from '../models';\nimport { getToday, isInRange, isInSelectionRange, range, intersects } from '../../utils';\nvar EMPTY_DATA = [[]];\nvar CELLS_LENGTH = 4;\nvar ROWS_LENGTH = 3;\nvar ACTIONS = (_a = {}, _a[Action.Left] = function (date) {\n  return addDecades(date, -1);\n}, _a[Action.Up] = function (date) {\n  return addDecades(date, -5);\n}, _a[Action.Right] = function (date) {\n  return addDecades(date, 1);\n}, _a[Action.Down] = function (date) {\n  return addDecades(date, 5);\n}, _a[Action.PrevView] = function (date) {\n  return addCenturies(date, -1);\n}, _a[Action.NextView] = function (date) {\n  return addCenturies(date, 1);\n}, _a[Action.FirstInView] = function (date) {\n  return firstDecadeOfCentury(date);\n}, _a[Action.LastInView] = function (date) {\n  return lastDecadeOfCentury(date);\n}, _a);\n/**\n * @hidden\n */\n\nvar CenturyViewService =\n/** @class */\nfunction () {\n  function CenturyViewService() {}\n\n  CenturyViewService.prototype.addToDate = function (min, skip) {\n    return addCenturies(min, skip);\n  };\n\n  CenturyViewService.prototype.datesList = function (start, count) {\n    return range(0, count).map(function (i) {\n      return addCenturies(start, i);\n    });\n  };\n\n  CenturyViewService.prototype.data = function (options) {\n    var _this = this;\n\n    var cellUID = options.cellUID,\n        focusedDate = options.focusedDate,\n        isActiveView = options.isActiveView,\n        max = options.max,\n        min = options.min,\n        selectedDate = options.selectedDate,\n        _a = options.selectionRange,\n        selectionRange = _a === void 0 ? EMPTY_SELECTIONRANGE : _a,\n        viewDate = options.viewDate;\n\n    if (!viewDate) {\n      return EMPTY_DATA;\n    }\n\n    var cells = range(0, CELLS_LENGTH);\n    var firstDate = firstDecadeOfCentury(viewDate);\n    var lastDate = lastDecadeOfCentury(viewDate);\n    var today = getToday();\n    return range(0, ROWS_LENGTH).map(function (rowOffset) {\n      var baseDate = addDecades(firstDate, rowOffset * CELLS_LENGTH);\n      return cells.map(function (cellOffset) {\n        var cellDate = _this.normalize(addDecades(baseDate, cellOffset), min, max);\n\n        var isRangeStart = _this.isEqual(cellDate, selectionRange.start);\n\n        var isRangeEnd = _this.isEqual(cellDate, selectionRange.end);\n\n        var isInMiddle = !isRangeStart && !isRangeEnd;\n        var isRangeMid = isInMiddle && isInSelectionRange(cellDate, selectionRange);\n        var isSelected = isActiveView && (!Array.isArray(selectedDate) ? isInRange(selectedDate, min, max) && _this.isEqual(cellDate, selectedDate) : _this.isSelectedFromArray(cellDate, selectedDate, min, max));\n        return intersects(cellDate, firstDate, lastDate) ? {\n          formattedValue: _this.value(cellDate),\n          id: \"\".concat(cellUID).concat(cellDate.getTime()),\n          isFocused: _this.isEqual(cellDate, focusedDate),\n          isSelected: isSelected,\n          isWeekend: false,\n          isInRange: isInRange(cellDate, min, max),\n          isRangeStart: isRangeStart,\n          isRangeMid: isRangeMid,\n          isRangeEnd: isRangeEnd,\n          isRangeSplitEnd: isRangeMid && _this.isEqual(cellDate, lastDate),\n          isRangeSplitStart: isRangeMid && _this.isEqual(cellDate, firstDate),\n          isToday: _this.isEqual(cellDate, today),\n          title: _this.cellTitle(cellDate),\n          value: cellDate\n        } : null;\n      });\n    });\n  };\n\n  CenturyViewService.prototype.isSelectedFromArray = function (candidate, dates, min, max) {\n    var _this = this;\n\n    var result = false;\n    dates.forEach(function (date) {\n      if (isInRange(candidate, min, max) && _this.isEqual(candidate, date)) {\n        result = true;\n      }\n    });\n    return result;\n  };\n\n  CenturyViewService.prototype.isEqual = function (candidate, expected) {\n    if (!candidate || !expected) {\n      return false;\n    } // TODO: double-check this!\n\n\n    return firstYearOfDecade(candidate).getFullYear() === firstYearOfDecade(expected).getFullYear();\n  };\n\n  CenturyViewService.prototype.isInArray = function (date, dates) {\n    if (!dates.length) {\n      return false;\n    }\n\n    var year = date.getFullYear();\n    return dates[0].getFullYear() <= year && year <= dates[dates.length - 1].getFullYear() + 99;\n  };\n\n  CenturyViewService.prototype.isInRange = function (candidate, min, max) {\n    var year = firstYearOfDecade(candidate).getFullYear();\n    var aboveMin = !min || firstYearOfDecade(min).getFullYear() <= year;\n    var belowMax = !max || year <= firstYearOfDecade(max).getFullYear();\n    return aboveMin && belowMax;\n  };\n\n  CenturyViewService.prototype.isInSameView = function (candidate, value) {\n    return durationInCenturies(candidate, value) === 0;\n  };\n\n  CenturyViewService.prototype.isRangeStart = function (value) {\n    return value.getFullYear() % 1000 === 0;\n  };\n\n  CenturyViewService.prototype.move = function (value, action) {\n    var modifier = ACTIONS[action];\n\n    if (!modifier) {\n      return value;\n    }\n\n    return modifier(value);\n  };\n\n  CenturyViewService.prototype.cellTitle = function (value) {\n    return firstYearOfDecade(value).getFullYear().toString();\n  };\n\n  CenturyViewService.prototype.navigationTitle = function (value) {\n    return value ? firstDecadeOfCentury(value).getFullYear().toString() : '';\n  };\n\n  CenturyViewService.prototype.title = function (value) {\n    if (!value) {\n      return '';\n    }\n\n    return \"\".concat(firstDecadeOfCentury(value).getFullYear(), \" - \").concat(lastDecadeOfCentury(value).getFullYear());\n  };\n\n  CenturyViewService.prototype.rowLength = function (_) {\n    return CELLS_LENGTH;\n  };\n\n  CenturyViewService.prototype.skip = function (value, min) {\n    return durationInCenturies(min, value);\n  };\n\n  CenturyViewService.prototype.total = function (min, max) {\n    return durationInCenturies(min, max) + 1;\n  };\n\n  CenturyViewService.prototype.value = function (current) {\n    return current ? firstYearOfDecade(current).getFullYear().toString() : '';\n  };\n\n  CenturyViewService.prototype.viewDate = function (date, max, border) {\n    if (border === void 0) {\n      border = 1;\n    }\n\n    var renderTwoViews = durationInCenturies(date, max) < border;\n    return renderTwoViews ? addCenturies(date, -1) : date;\n  };\n\n  CenturyViewService.prototype.normalize = function (cellDate, min, max) {\n    if (cellDate < min && this.isEqual(cellDate, min)) {\n      return cloneDate(min);\n    }\n\n    if (cellDate > max && this.isEqual(cellDate, max)) {\n      return cloneDate(max);\n    }\n\n    return cellDate;\n  };\n\n  return CenturyViewService;\n}();\n\nexport { CenturyViewService };","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-react-dateinputs/dist/es/calendar/services/CenturyViewService.js"],"names":["_a","addDecades","addCenturies","cloneDate","durationInCenturies","firstYearOfDecade","firstDecadeOfCentury","lastDecadeOfCentury","Action","EMPTY_SELECTIONRANGE","getToday","isInRange","isInSelectionRange","range","intersects","EMPTY_DATA","CELLS_LENGTH","ROWS_LENGTH","ACTIONS","Left","date","Up","Right","Down","PrevView","NextView","FirstInView","LastInView","CenturyViewService","prototype","addToDate","min","skip","datesList","start","count","map","i","data","options","_this","cellUID","focusedDate","isActiveView","max","selectedDate","selectionRange","viewDate","cells","firstDate","lastDate","today","rowOffset","baseDate","cellOffset","cellDate","normalize","isRangeStart","isEqual","isRangeEnd","end","isInMiddle","isRangeMid","isSelected","Array","isArray","isSelectedFromArray","formattedValue","value","id","concat","getTime","isFocused","isWeekend","isRangeSplitEnd","isRangeSplitStart","isToday","title","cellTitle","candidate","dates","result","forEach","expected","getFullYear","isInArray","length","year","aboveMin","belowMax","isInSameView","move","action","modifier","toString","navigationTitle","rowLength","_","total","current","border","renderTwoViews"],"mappings":"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","sourcesContent":["var _a;\n/* tslint:disable:object-literal-sort-keys */\nimport { addDecades, addCenturies, cloneDate, durationInCenturies, firstYearOfDecade, firstDecadeOfCentury, lastDecadeOfCentury } from '@progress/kendo-date-math';\nimport { Action, EMPTY_SELECTIONRANGE } from '../models';\nimport { getToday, isInRange, isInSelectionRange, range, intersects } from '../../utils';\nvar EMPTY_DATA = [[]];\nvar CELLS_LENGTH = 4;\nvar ROWS_LENGTH = 3;\nvar ACTIONS = (_a = {},\n    _a[Action.Left] = function (date) { return addDecades(date, -1); },\n    _a[Action.Up] = function (date) { return addDecades(date, -5); },\n    _a[Action.Right] = function (date) { return addDecades(date, 1); },\n    _a[Action.Down] = function (date) { return addDecades(date, 5); },\n    _a[Action.PrevView] = function (date) { return addCenturies(date, -1); },\n    _a[Action.NextView] = function (date) { return addCenturies(date, 1); },\n    _a[Action.FirstInView] = function (date) { return firstDecadeOfCentury(date); },\n    _a[Action.LastInView] = function (date) { return lastDecadeOfCentury(date); },\n    _a);\n/**\n * @hidden\n */\nvar CenturyViewService = /** @class */ (function () {\n    function CenturyViewService() {\n    }\n    CenturyViewService.prototype.addToDate = function (min, skip) {\n        return addCenturies(min, skip);\n    };\n    CenturyViewService.prototype.datesList = function (start, count) {\n        return range(0, count).map(function (i) { return addCenturies(start, i); });\n    };\n    CenturyViewService.prototype.data = function (options) {\n        var _this = this;\n        var cellUID = options.cellUID, focusedDate = options.focusedDate, isActiveView = options.isActiveView, max = options.max, min = options.min, selectedDate = options.selectedDate, _a = options.selectionRange, selectionRange = _a === void 0 ? EMPTY_SELECTIONRANGE : _a, viewDate = options.viewDate;\n        if (!viewDate) {\n            return EMPTY_DATA;\n        }\n        var cells = range(0, CELLS_LENGTH);\n        var firstDate = firstDecadeOfCentury(viewDate);\n        var lastDate = lastDecadeOfCentury(viewDate);\n        var today = getToday();\n        return range(0, ROWS_LENGTH).map(function (rowOffset) {\n            var baseDate = addDecades(firstDate, rowOffset * CELLS_LENGTH);\n            return cells.map(function (cellOffset) {\n                var cellDate = _this.normalize(addDecades(baseDate, cellOffset), min, max);\n                var isRangeStart = _this.isEqual(cellDate, selectionRange.start);\n                var isRangeEnd = _this.isEqual(cellDate, selectionRange.end);\n                var isInMiddle = !isRangeStart && !isRangeEnd;\n                var isRangeMid = isInMiddle && isInSelectionRange(cellDate, selectionRange);\n                var isSelected = isActiveView && (!Array.isArray(selectedDate)\n                    ? isInRange(selectedDate, min, max) && _this.isEqual(cellDate, selectedDate)\n                    : _this.isSelectedFromArray(cellDate, selectedDate, min, max));\n                return intersects(cellDate, firstDate, lastDate) ? ({\n                    formattedValue: _this.value(cellDate),\n                    id: \"\".concat(cellUID).concat(cellDate.getTime()),\n                    isFocused: _this.isEqual(cellDate, focusedDate),\n                    isSelected: isSelected,\n                    isWeekend: false,\n                    isInRange: isInRange(cellDate, min, max),\n                    isRangeStart: isRangeStart,\n                    isRangeMid: isRangeMid,\n                    isRangeEnd: isRangeEnd,\n                    isRangeSplitEnd: isRangeMid && _this.isEqual(cellDate, lastDate),\n                    isRangeSplitStart: isRangeMid && _this.isEqual(cellDate, firstDate),\n                    isToday: _this.isEqual(cellDate, today),\n                    title: _this.cellTitle(cellDate),\n                    value: cellDate\n                }) : null;\n            });\n        });\n    };\n    CenturyViewService.prototype.isSelectedFromArray = function (candidate, dates, min, max) {\n        var _this = this;\n        var result = false;\n        dates.forEach(function (date) {\n            if (isInRange(candidate, min, max) && _this.isEqual(candidate, date)) {\n                result = true;\n            }\n        });\n        return result;\n    };\n    CenturyViewService.prototype.isEqual = function (candidate, expected) {\n        if (!candidate || !expected) {\n            return false;\n        }\n        // TODO: double-check this!\n        return firstYearOfDecade(candidate).getFullYear() === firstYearOfDecade(expected).getFullYear();\n    };\n    CenturyViewService.prototype.isInArray = function (date, dates) {\n        if (!dates.length) {\n            return false;\n        }\n        var year = date.getFullYear();\n        return dates[0].getFullYear() <= year && year <= (dates[dates.length - 1].getFullYear() + 99);\n    };\n    CenturyViewService.prototype.isInRange = function (candidate, min, max) {\n        var year = firstYearOfDecade(candidate).getFullYear();\n        var aboveMin = !min || firstYearOfDecade(min).getFullYear() <= year;\n        var belowMax = !max || year <= firstYearOfDecade(max).getFullYear();\n        return aboveMin && belowMax;\n    };\n    CenturyViewService.prototype.isInSameView = function (candidate, value) {\n        return durationInCenturies(candidate, value) === 0;\n    };\n    CenturyViewService.prototype.isRangeStart = function (value) {\n        return value.getFullYear() % 1000 === 0;\n    };\n    CenturyViewService.prototype.move = function (value, action) {\n        var modifier = ACTIONS[action];\n        if (!modifier) {\n            return value;\n        }\n        return modifier(value);\n    };\n    CenturyViewService.prototype.cellTitle = function (value) {\n        return firstYearOfDecade(value).getFullYear().toString();\n    };\n    CenturyViewService.prototype.navigationTitle = function (value) {\n        return value ? firstDecadeOfCentury(value).getFullYear().toString() : '';\n    };\n    CenturyViewService.prototype.title = function (value) {\n        if (!value) {\n            return '';\n        }\n        return \"\".concat(firstDecadeOfCentury(value).getFullYear(), \" - \").concat(lastDecadeOfCentury(value).getFullYear());\n    };\n    CenturyViewService.prototype.rowLength = function (_) {\n        return CELLS_LENGTH;\n    };\n    CenturyViewService.prototype.skip = function (value, min) {\n        return durationInCenturies(min, value);\n    };\n    CenturyViewService.prototype.total = function (min, max) {\n        return durationInCenturies(min, max) + 1;\n    };\n    CenturyViewService.prototype.value = function (current) {\n        return current ? firstYearOfDecade(current).getFullYear().toString() : '';\n    };\n    CenturyViewService.prototype.viewDate = function (date, max, border) {\n        if (border === void 0) { border = 1; }\n        var renderTwoViews = durationInCenturies(date, max) < border;\n        return renderTwoViews ? addCenturies(date, -1) : date;\n    };\n    CenturyViewService.prototype.normalize = function (cellDate, min, max) {\n        if (cellDate < min && this.isEqual(cellDate, min)) {\n            return cloneDate(min);\n        }\n        if (cellDate > max && this.isEqual(cellDate, max)) {\n            return cloneDate(max);\n        }\n        return cellDate;\n    };\n    return CenturyViewService;\n}());\nexport { CenturyViewService };\n"]},"metadata":{},"sourceType":"module"}