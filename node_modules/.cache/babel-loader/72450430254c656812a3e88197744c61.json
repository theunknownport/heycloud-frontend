{"ast":null,"code":"import { intersect } from \"./algorithms\";\nimport { getWindow, autoScrollVelocity, scrollableViewPort, getScrollableParent, isPointerInsideContainer, getDocument } from \"./utils\";\n/** @hidden */\n\nexport var DRAG_AND_DROP_DISPATCH_ACTION;\n\n(function (DRAG_AND_DROP_DISPATCH_ACTION) {\n  DRAG_AND_DROP_DISPATCH_ACTION[\"POINTER_DOWN\"] = \"pointerdown\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"POINTER_MOVE\"] = \"pointermove\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"POINTER_UP\"] = \"pointerup\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"POINTER_CANCEL\"] = \"pointercancel\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"MOUSE_DOWN\"] = \"mousedown\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"MOUSE_MOVE\"] = \"mousemove\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"MOUSE_UP\"] = \"mouseup\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"CONTEXT_MENU\"] = \"contextmenu\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"TOUCH_START\"] = \"touchstart\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"TOUCH_MOVE\"] = \"touchmove\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"TOUCH_END\"] = \"touchend\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"TOUCH_CANCEL\"] = \"touchcancel\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"SCROLL\"] = \"scroll\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"START\"] = \"KENDO_DRAG_AND_DROP_START\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"MOVE\"] = \"KENDO_DRAG_AND_DROP_MOVE\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"END\"] = \"KENDO_DRAG_AND_DROP_END\";\n  DRAG_AND_DROP_DISPATCH_ACTION[\"CANCEL\"] = \"KENDO_DRAG_AND_DROP_CANCEL\";\n})(DRAG_AND_DROP_DISPATCH_ACTION || (DRAG_AND_DROP_DISPATCH_ACTION = {}));\n\nvar isTouchEvent = function (event) {\n  return /^touch/.test(event.type);\n};\n\nvar isScrollEvent = function (event) {\n  return /^(scroll)/.test(event.type);\n};\n/** @hidden */\n\n\nexport var normalizeEvent = function (event, state) {\n  return isTouchEvent(event) ? {\n    pageX: event.changedTouches[0].pageX,\n    pageY: event.changedTouches[0].pageY,\n    clientX: event.changedTouches[0].clientX,\n    clientY: event.changedTouches[0].clientY,\n    scrollX: state.scrollOffset.x,\n    scrollY: state.scrollOffset.y,\n    offsetX: state.offset.x,\n    offsetY: state.offset.y,\n    type: event.type,\n    originalEvent: event,\n    isTouch: true,\n    altKey: false,\n    ctrlKey: false,\n    shiftKey: false,\n    metaKey: false\n  } : isScrollEvent(event) ? {\n    pageX: state.pageOffset.x,\n    pageY: state.pageOffset.y,\n    clientX: state.clientOffset.x,\n    clientY: state.clientOffset.y,\n    scrollX: state.scrollOffset.x,\n    scrollY: state.scrollOffset.y,\n    offsetX: state.offset.x,\n    offsetY: state.offset.y,\n    type: event.type,\n    originalEvent: event,\n    altKey: false,\n    ctrlKey: false,\n    shiftKey: false,\n    metaKey: false\n  } : {\n    pageX: event.pageX,\n    pageY: event.pageY,\n    clientX: event.clientX,\n    clientY: event.clientY,\n    offsetX: event.offsetX,\n    offsetY: event.offsetY,\n    scrollX: state.scrollOffset.x,\n    scrollY: state.scrollOffset.y,\n    type: event.type,\n    ctrlKey: event.ctrlKey,\n    shiftKey: event.shiftKey,\n    altKey: event.altKey,\n    metaKey: event.metaKey,\n    originalEvent: event\n  };\n};\n\nvar noop = function () {};\n/** @hidden */\n\n\nexport var dispatchDragAndDrop = function (state, action, callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n\n  var _a = callbacks.onIsPressedChange,\n      onIsPressedChange = _a === void 0 ? noop : _a,\n      _b = callbacks.onIsScrollingChange,\n      onIsScrollingChange = _b === void 0 ? noop : _b,\n      _c = callbacks.onVelocityChange,\n      onVelocityChange = _c === void 0 ? noop : _c,\n      _d = callbacks.onOffsetChange,\n      onOffsetChange = _d === void 0 ? noop : _d,\n      _e = callbacks.onPageOffsetChange,\n      onPageOffsetChange = _e === void 0 ? noop : _e,\n      _f = callbacks.onClientOffsetChange,\n      onClientOffsetChange = _f === void 0 ? noop : _f,\n      _g = callbacks.onScrollOffsetChange,\n      onScrollOffsetChange = _g === void 0 ? noop : _g,\n      _h = callbacks.onInitialScrollOffsetChange,\n      onInitialScrollOffsetChange = _h === void 0 ? noop : _h;\n  var drag = action.payload;\n  var element = drag.element;\n  var hint = drag.hint;\n  var autoScrollDirection = state.autoScrollDirection;\n  var overrideScrollableParent = state.scrollableParent;\n  var event = normalizeEvent(action.event, state);\n\n  switch (event.type) {\n    case DRAG_AND_DROP_DISPATCH_ACTION.POINTER_DOWN:\n      if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.POINTER_DOWN && (!event.originalEvent.isPrimary || event.originalEvent.button !== 0)) {\n        break;\n      }\n\n    // In rare cases where the `which` attribute is available in the mouse event\n    // we check if the `left button` is explicitly clicked:\n    // https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/which#return_value\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.MOUSE_DOWN:\n      if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.MOUSE_DOWN && event.originalEvent.which && event.originalEvent.which > 1 || state.ignoreMouse) {\n        break;\n      }\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_START:\n      if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_START && event.originalEvent.touches.length !== 1) {\n        break;\n      }\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.START:\n      {\n        var scrollableParent_1 = overrideScrollableParent || getScrollableParent(action.payload.element);\n        onInitialScrollOffsetChange(scrollableParent_1 instanceof Window ? {\n          x: scrollableParent_1.scrollX,\n          y: scrollableParent_1.scrollY\n        } : {\n          x: scrollableParent_1.scrollLeft,\n          y: scrollableParent_1.scrollTop\n        });\n        onClientOffsetChange({\n          x: event.clientX,\n          y: event.clientY\n        });\n        onPageOffsetChange({\n          x: event.pageX,\n          y: event.pageY\n        });\n        onOffsetChange({\n          x: event.offsetX,\n          y: event.offsetY\n        });\n        onIsPressedChange(true);\n\n        if (drag.onPress) {\n          drag.onPress(event);\n        }\n\n        break;\n      }\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.SCROLL:\n      if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.SCROLL && !state.pressed) {\n        break;\n      }\n\n      var scrollableParent = overrideScrollableParent || getScrollableParent(element);\n      var scrollOffset = scrollableParent instanceof Window ? {\n        x: scrollableParent.scrollX,\n        y: scrollableParent.scrollY\n      } : {\n        x: scrollableParent.scrollLeft,\n        y: scrollableParent.scrollTop\n      };\n      event.scrollX = scrollOffset.x - state.initialScrollOffset.x;\n      event.scrollY = scrollOffset.y - state.initialScrollOffset.y;\n      onScrollOffsetChange({\n        x: event.scrollX,\n        y: event.scrollY\n      });\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.POINTER_MOVE:\n      if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.POINTER_MOVE && !event.originalEvent.isPrimary) {\n        break;\n      }\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.MOUSE_MOVE:\n    case DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_MOVE:\n      if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_MOVE && event.originalEvent.touches.length !== 1) {\n        break;\n      }\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.MOVE:\n      {\n        if (state.pressed) {\n          if (state.autoScroll && event.originalEvent.type !== 'scroll') {\n            if (element) {\n              var document_1 = getDocument(element);\n              var scrollableParent_2 = overrideScrollableParent || getScrollableParent(document_1.elementFromPoint(event.clientX, event.clientY));\n              var newVelocity = autoScrollVelocity(event.clientX, event.clientY, scrollableViewPort(scrollableParent_2, getWindow(element)));\n              onVelocityChange({\n                x: autoScrollDirection && autoScrollDirection.horizontal === false ? 0 : newVelocity.x,\n                y: autoScrollDirection && autoScrollDirection.vertical === false ? 0 : newVelocity.y\n              });\n              onIsScrollingChange(newVelocity.y !== 0 || newVelocity.x !== 0);\n            }\n          }\n\n          if (!state.drag && drag.onDragStart) {\n            drag.onDragStart(event);\n          }\n\n          if (drag.onDrag) {\n            drag.onDrag(event);\n          }\n\n          var dropElement_1 = intersect(hint || element, state.drops.map(function (drop) {\n            return drop && drop.element;\n          }).filter(function (d) {\n            return d !== (hint || element);\n          }));\n          var drop = state.drops.find(function (drop) {\n            return drop.element === dropElement_1;\n          });\n\n          if (drop && dropElement_1 && isPointerInsideContainer(event.clientX, event.clientY, overrideScrollableParent || getScrollableParent(dropElement_1)) && dropElement_1 !== element) {\n            if ((state.drop && state.drop.element) !== dropElement_1) {\n              if (state.drop && state.drop.onDragLeave) {\n                state.drop.onDragLeave(event);\n              }\n\n              if (drop.onDragEnter) {\n                drop.onDragEnter(event);\n              }\n            } else {\n              if (drop.onDragOver) {\n                drop.onDragOver(event);\n              }\n            }\n          } else if (state.drop && state.drop.onDragLeave) {\n            state.drop.onDragLeave(event);\n          }\n        }\n\n        onClientOffsetChange({\n          x: event.clientX,\n          y: event.clientY\n        });\n        onPageOffsetChange({\n          x: event.pageX,\n          y: event.pageY\n        });\n        break;\n      }\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.POINTER_UP:\n      if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.POINTER_UP && !event.originalEvent.isPrimary) {\n        break;\n      }\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.MOUSE_UP: // the last finger has been lifted, and the user is not doing gesture.\n    // there might be a better way to handle this.\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_END:\n      if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_END && event.originalEvent.touches.length !== 1) {\n        break;\n      }\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.END:\n      {\n        onIsPressedChange(false);\n        onIsScrollingChange(false);\n        onScrollOffsetChange({\n          x: 0,\n          y: 0\n        });\n\n        if (drag.onRelease) {\n          drag.onRelease(event);\n        }\n\n        if (state.drop && state.drop.onDrop) {\n          state.drop.onDrop(event);\n        }\n\n        if (state.drag && drag.onDragEnd) {\n          drag.onDragEnd(event);\n        }\n\n        break;\n      }\n\n    case DRAG_AND_DROP_DISPATCH_ACTION.POINTER_CANCEL:\n    case DRAG_AND_DROP_DISPATCH_ACTION.CONTEXT_MENU:\n    case DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_CANCEL:\n    case DRAG_AND_DROP_DISPATCH_ACTION.CANCEL:\n      {\n        onIsPressedChange(false);\n        onIsScrollingChange(false);\n        onScrollOffsetChange({\n          x: 0,\n          y: 0\n        });\n\n        if (drag.onDragEnd) {\n          drag.onDragEnd(event);\n        }\n\n        if (state.drop && state.drop.onDragLeave) {\n          state.drop.onDragLeave(event);\n        }\n\n        break;\n      }\n\n    default:\n      break;\n  }\n};","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-draggable-common/dist/es/drag-n-drop.js"],"names":["intersect","getWindow","autoScrollVelocity","scrollableViewPort","getScrollableParent","isPointerInsideContainer","getDocument","DRAG_AND_DROP_DISPATCH_ACTION","isTouchEvent","event","test","type","isScrollEvent","normalizeEvent","state","pageX","changedTouches","pageY","clientX","clientY","scrollX","scrollOffset","x","scrollY","y","offsetX","offset","offsetY","originalEvent","isTouch","altKey","ctrlKey","shiftKey","metaKey","pageOffset","clientOffset","noop","dispatchDragAndDrop","action","callbacks","_a","onIsPressedChange","_b","onIsScrollingChange","_c","onVelocityChange","_d","onOffsetChange","_e","onPageOffsetChange","_f","onClientOffsetChange","_g","onScrollOffsetChange","_h","onInitialScrollOffsetChange","drag","payload","element","hint","autoScrollDirection","overrideScrollableParent","scrollableParent","POINTER_DOWN","isPrimary","button","MOUSE_DOWN","which","ignoreMouse","TOUCH_START","touches","length","START","scrollableParent_1","Window","scrollLeft","scrollTop","onPress","SCROLL","pressed","initialScrollOffset","POINTER_MOVE","MOUSE_MOVE","TOUCH_MOVE","MOVE","autoScroll","document_1","scrollableParent_2","elementFromPoint","newVelocity","horizontal","vertical","onDragStart","onDrag","dropElement_1","drops","map","drop","filter","d","find","onDragLeave","onDragEnter","onDragOver","POINTER_UP","MOUSE_UP","TOUCH_END","END","onRelease","onDrop","onDragEnd","POINTER_CANCEL","CONTEXT_MENU","TOUCH_CANCEL","CANCEL"],"mappings":"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","sourcesContent":["import { intersect } from \"./algorithms\";\nimport { getWindow, autoScrollVelocity, scrollableViewPort, getScrollableParent, isPointerInsideContainer, getDocument } from \"./utils\";\n/** @hidden */\nexport var DRAG_AND_DROP_DISPATCH_ACTION;\n(function (DRAG_AND_DROP_DISPATCH_ACTION) {\n    DRAG_AND_DROP_DISPATCH_ACTION[\"POINTER_DOWN\"] = \"pointerdown\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"POINTER_MOVE\"] = \"pointermove\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"POINTER_UP\"] = \"pointerup\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"POINTER_CANCEL\"] = \"pointercancel\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"MOUSE_DOWN\"] = \"mousedown\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"MOUSE_MOVE\"] = \"mousemove\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"MOUSE_UP\"] = \"mouseup\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"CONTEXT_MENU\"] = \"contextmenu\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"TOUCH_START\"] = \"touchstart\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"TOUCH_MOVE\"] = \"touchmove\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"TOUCH_END\"] = \"touchend\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"TOUCH_CANCEL\"] = \"touchcancel\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"SCROLL\"] = \"scroll\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"START\"] = \"KENDO_DRAG_AND_DROP_START\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"MOVE\"] = \"KENDO_DRAG_AND_DROP_MOVE\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"END\"] = \"KENDO_DRAG_AND_DROP_END\";\n    DRAG_AND_DROP_DISPATCH_ACTION[\"CANCEL\"] = \"KENDO_DRAG_AND_DROP_CANCEL\";\n})(DRAG_AND_DROP_DISPATCH_ACTION || (DRAG_AND_DROP_DISPATCH_ACTION = {}));\nvar isTouchEvent = function (event) { return /^touch/.test(event.type); };\nvar isScrollEvent = function (event) { return /^(scroll)/.test(event.type); };\n/** @hidden */\nexport var normalizeEvent = function (event, state) { return (isTouchEvent(event)\n    ? ({\n        pageX: event.changedTouches[0].pageX,\n        pageY: event.changedTouches[0].pageY,\n        clientX: event.changedTouches[0].clientX,\n        clientY: event.changedTouches[0].clientY,\n        scrollX: state.scrollOffset.x,\n        scrollY: state.scrollOffset.y,\n        offsetX: state.offset.x,\n        offsetY: state.offset.y,\n        type: event.type,\n        originalEvent: event,\n        isTouch: true,\n        altKey: false,\n        ctrlKey: false,\n        shiftKey: false,\n        metaKey: false\n    })\n    : isScrollEvent(event)\n        ? ({\n            pageX: state.pageOffset.x,\n            pageY: state.pageOffset.y,\n            clientX: state.clientOffset.x,\n            clientY: state.clientOffset.y,\n            scrollX: state.scrollOffset.x,\n            scrollY: state.scrollOffset.y,\n            offsetX: state.offset.x,\n            offsetY: state.offset.y,\n            type: event.type,\n            originalEvent: event,\n            altKey: false,\n            ctrlKey: false,\n            shiftKey: false,\n            metaKey: false\n        })\n        : ({\n            pageX: event.pageX,\n            pageY: event.pageY,\n            clientX: event.clientX,\n            clientY: event.clientY,\n            offsetX: event.offsetX,\n            offsetY: event.offsetY,\n            scrollX: state.scrollOffset.x,\n            scrollY: state.scrollOffset.y,\n            type: event.type,\n            ctrlKey: event.ctrlKey,\n            shiftKey: event.shiftKey,\n            altKey: event.altKey,\n            metaKey: event.metaKey,\n            originalEvent: event\n        })); };\nvar noop = function () { };\n/** @hidden */\nexport var dispatchDragAndDrop = function (state, action, callbacks) {\n    if (callbacks === void 0) { callbacks = {}; }\n    var _a = callbacks.onIsPressedChange, onIsPressedChange = _a === void 0 ? noop : _a, _b = callbacks.onIsScrollingChange, onIsScrollingChange = _b === void 0 ? noop : _b, _c = callbacks.onVelocityChange, onVelocityChange = _c === void 0 ? noop : _c, _d = callbacks.onOffsetChange, onOffsetChange = _d === void 0 ? noop : _d, _e = callbacks.onPageOffsetChange, onPageOffsetChange = _e === void 0 ? noop : _e, _f = callbacks.onClientOffsetChange, onClientOffsetChange = _f === void 0 ? noop : _f, _g = callbacks.onScrollOffsetChange, onScrollOffsetChange = _g === void 0 ? noop : _g, _h = callbacks.onInitialScrollOffsetChange, onInitialScrollOffsetChange = _h === void 0 ? noop : _h;\n    var drag = action.payload;\n    var element = drag.element;\n    var hint = drag.hint;\n    var autoScrollDirection = state.autoScrollDirection;\n    var overrideScrollableParent = state.scrollableParent;\n    var event = normalizeEvent(action.event, state);\n    switch (event.type) {\n        case DRAG_AND_DROP_DISPATCH_ACTION.POINTER_DOWN:\n            if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.POINTER_DOWN\n                && (!event.originalEvent.isPrimary\n                    || event.originalEvent.button !== 0)) {\n                break;\n            }\n        // In rare cases where the `which` attribute is available in the mouse event\n        // we check if the `left button` is explicitly clicked:\n        // https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/which#return_value\n        case DRAG_AND_DROP_DISPATCH_ACTION.MOUSE_DOWN:\n            if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.MOUSE_DOWN\n                && (event.originalEvent.which\n                    && event.originalEvent.which > 1)\n                || state.ignoreMouse) {\n                break;\n            }\n        case DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_START:\n            if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_START\n                && event.originalEvent.touches.length !== 1) {\n                break;\n            }\n        case DRAG_AND_DROP_DISPATCH_ACTION.START: {\n            var scrollableParent_1 = overrideScrollableParent || getScrollableParent(action.payload.element);\n            onInitialScrollOffsetChange(scrollableParent_1 instanceof Window\n                ? { x: scrollableParent_1.scrollX, y: scrollableParent_1.scrollY }\n                : { x: scrollableParent_1.scrollLeft, y: scrollableParent_1.scrollTop });\n            onClientOffsetChange({\n                x: event.clientX,\n                y: event.clientY\n            });\n            onPageOffsetChange({\n                x: event.pageX,\n                y: event.pageY\n            });\n            onOffsetChange({\n                x: event.offsetX,\n                y: event.offsetY\n            });\n            onIsPressedChange(true);\n            if (drag.onPress) {\n                drag.onPress(event);\n            }\n            break;\n        }\n        case DRAG_AND_DROP_DISPATCH_ACTION.SCROLL:\n            if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.SCROLL && !state.pressed) {\n                break;\n            }\n            var scrollableParent = overrideScrollableParent || getScrollableParent(element);\n            var scrollOffset = scrollableParent instanceof Window\n                ? { x: scrollableParent.scrollX, y: scrollableParent.scrollY }\n                : { x: scrollableParent.scrollLeft, y: scrollableParent.scrollTop };\n            event.scrollX = scrollOffset.x - state.initialScrollOffset.x;\n            event.scrollY = scrollOffset.y - state.initialScrollOffset.y;\n            onScrollOffsetChange({\n                x: event.scrollX,\n                y: event.scrollY\n            });\n        case DRAG_AND_DROP_DISPATCH_ACTION.POINTER_MOVE:\n            if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.POINTER_MOVE && !event.originalEvent.isPrimary) {\n                break;\n            }\n        case DRAG_AND_DROP_DISPATCH_ACTION.MOUSE_MOVE:\n        case DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_MOVE:\n            if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_MOVE && event.originalEvent.touches.length !== 1) {\n                break;\n            }\n        case DRAG_AND_DROP_DISPATCH_ACTION.MOVE: {\n            if (state.pressed) {\n                if (state.autoScroll && event.originalEvent.type !== 'scroll') {\n                    if (element) {\n                        var document_1 = getDocument(element);\n                        var scrollableParent_2 = overrideScrollableParent || getScrollableParent(document_1.elementFromPoint(event.clientX, event.clientY));\n                        var newVelocity = autoScrollVelocity(event.clientX, event.clientY, scrollableViewPort(scrollableParent_2, getWindow(element)));\n                        onVelocityChange({\n                            x: (autoScrollDirection && autoScrollDirection.horizontal === false) ? 0 : newVelocity.x,\n                            y: (autoScrollDirection && autoScrollDirection.vertical === false) ? 0 : newVelocity.y\n                        });\n                        onIsScrollingChange(newVelocity.y !== 0 || newVelocity.x !== 0);\n                    }\n                }\n                if (!state.drag && drag.onDragStart) {\n                    drag.onDragStart(event);\n                }\n                if (drag.onDrag) {\n                    drag.onDrag(event);\n                }\n                var dropElement_1 = intersect(hint || element, state.drops.map(function (drop) { return drop && drop.element; }).filter(function (d) { return d !== (hint || element); }));\n                var drop = state.drops.find(function (drop) { return drop.element === dropElement_1; });\n                if (drop\n                    && dropElement_1\n                    && isPointerInsideContainer(event.clientX, event.clientY, overrideScrollableParent || getScrollableParent(dropElement_1))\n                    && dropElement_1 !== element) {\n                    if ((state.drop && state.drop.element) !== dropElement_1) {\n                        if (state.drop && state.drop.onDragLeave) {\n                            state.drop.onDragLeave(event);\n                        }\n                        if (drop.onDragEnter) {\n                            drop.onDragEnter(event);\n                        }\n                    }\n                    else {\n                        if (drop.onDragOver) {\n                            drop.onDragOver(event);\n                        }\n                    }\n                }\n                else if (state.drop && state.drop.onDragLeave) {\n                    state.drop.onDragLeave(event);\n                }\n            }\n            onClientOffsetChange({\n                x: event.clientX,\n                y: event.clientY\n            });\n            onPageOffsetChange({\n                x: event.pageX,\n                y: event.pageY\n            });\n            break;\n        }\n        case DRAG_AND_DROP_DISPATCH_ACTION.POINTER_UP:\n            if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.POINTER_UP && !event.originalEvent.isPrimary) {\n                break;\n            }\n        case DRAG_AND_DROP_DISPATCH_ACTION.MOUSE_UP:\n        // the last finger has been lifted, and the user is not doing gesture.\n        // there might be a better way to handle this.\n        case DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_END:\n            if (event.type === DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_END && event.originalEvent.touches.length !== 1) {\n                break;\n            }\n        case DRAG_AND_DROP_DISPATCH_ACTION.END: {\n            onIsPressedChange(false);\n            onIsScrollingChange(false);\n            onScrollOffsetChange({ x: 0, y: 0 });\n            if (drag.onRelease) {\n                drag.onRelease(event);\n            }\n            if (state.drop && state.drop.onDrop) {\n                state.drop.onDrop(event);\n            }\n            if (state.drag && drag.onDragEnd) {\n                drag.onDragEnd(event);\n            }\n            break;\n        }\n        case DRAG_AND_DROP_DISPATCH_ACTION.POINTER_CANCEL:\n        case DRAG_AND_DROP_DISPATCH_ACTION.CONTEXT_MENU:\n        case DRAG_AND_DROP_DISPATCH_ACTION.TOUCH_CANCEL:\n        case DRAG_AND_DROP_DISPATCH_ACTION.CANCEL: {\n            onIsPressedChange(false);\n            onIsScrollingChange(false);\n            onScrollOffsetChange({ x: 0, y: 0 });\n            if (drag.onDragEnd) {\n                drag.onDragEnd(event);\n            }\n            if (state.drop && state.drop.onDragLeave) {\n                state.drop.onDragLeave(event);\n            }\n            break;\n        }\n        default:\n            break;\n    }\n};\n"]},"metadata":{},"sourceType":"module"}