{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { Keys } from '@progress/kendo-react-common';\nimport { UploadUI } from './UploadUI';\n/**\n * @hidden\n */\n\nvar NOT_FOCUSED_INDEX = -2;\n/**\n * @hidden\n */\n\nvar DEFAULT_INDEX = -1;\n/**\n * @hidden\n */\n\nvar UploadNavigation =\n/** @class */\nfunction (_super) {\n  __extends(UploadNavigation, _super);\n\n  function UploadNavigation(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._uploadUI = null;\n\n    _this.focus = function () {\n      if (_this._uploadUI) {\n        _this._uploadUI.focus();\n      }\n    };\n\n    _this.onKeyDown = function (event, isRtl) {\n      var navIndex = _this.navIndex;\n      var groupKeys = Object.keys(_this.props.groupedFiles);\n      var maxFileIndex = groupKeys.length - 1;\n      var maxNavIndex = _this.props.autoUpload || groupKeys.length === 0 ? maxFileIndex : maxFileIndex + 1;\n      var cancelButtonIndex = maxFileIndex + 1;\n      var uploadButtonIndex = cancelButtonIndex + 1;\n      var prevIndex = navIndex === NOT_FOCUSED_INDEX ? DEFAULT_INDEX : navIndex;\n      var nextIndex = navIndex;\n\n      switch (event.keyCode) {\n        case Keys.up:\n          if (navIndex > -1) {\n            nextIndex = prevIndex - 1;\n          }\n\n          break;\n\n        case Keys.down:\n          if (navIndex < maxNavIndex) {\n            nextIndex = prevIndex + 1;\n          }\n\n          break;\n\n        case Keys.left:\n          if (isRtl) {\n            if (navIndex === cancelButtonIndex) {\n              nextIndex = prevIndex + 1;\n            }\n          } else {\n            if (navIndex === uploadButtonIndex) {\n              nextIndex = prevIndex - 1;\n            }\n          }\n\n          break;\n\n        case Keys.right:\n          if (isRtl) {\n            if (navIndex === uploadButtonIndex) {\n              nextIndex = prevIndex - 1;\n            }\n          } else {\n            if (navIndex === cancelButtonIndex) {\n              nextIndex = prevIndex + 1;\n            }\n          }\n\n          break;\n\n        case Keys.enter:\n          if (navIndex === DEFAULT_INDEX || navIndex === NOT_FOCUSED_INDEX) {\n            if (_this.actionElement) {\n              _this.actionElement.click();\n            }\n          }\n\n          if (navIndex >= 0 && navIndex <= maxFileIndex) {\n            _this.onRetry(groupKeys[navIndex]);\n          }\n\n          break;\n\n        case Keys.space:\n          if (navIndex === DEFAULT_INDEX || navIndex === NOT_FOCUSED_INDEX) {\n            if (_this.actionElement) {\n              _this.actionElement.click();\n            }\n          }\n\n          event.preventDefault();\n          break;\n\n        case Keys.tab:\n          nextIndex = NOT_FOCUSED_INDEX;\n          break;\n\n        case Keys.delete:\n          if (navIndex >= 0 && navIndex <= maxFileIndex) {\n            nextIndex = prevIndex - 1;\n\n            _this.onRemove(groupKeys[navIndex]);\n          }\n\n          break;\n\n        case Keys.esc:\n          if (navIndex >= 0 && navIndex <= maxFileIndex) {\n            nextIndex = prevIndex - 1;\n\n            _this.onCancel(groupKeys[navIndex]);\n          }\n\n          break;\n\n        default:\n      }\n\n      _this.navIndex = nextIndex;\n    };\n\n    _this.onCancel = function (uid) {\n      if (_this.props.onCancel) {\n        _this.props.onCancel.call(undefined, uid);\n      }\n    };\n\n    _this.onClear = function () {\n      _this.navIndex = DEFAULT_INDEX;\n\n      if (_this.props.onClear) {\n        _this.props.onClear.call(undefined);\n      }\n    };\n\n    _this.onUpload = function () {\n      _this.navIndex = DEFAULT_INDEX;\n\n      if (_this.props.onUpload) {\n        _this.props.onUpload.call(undefined);\n      }\n    };\n\n    _this.onRetry = function (uid) {\n      if (_this.props.onRetry) {\n        _this.props.onRetry.call(undefined, uid);\n      }\n    };\n\n    _this.onRemove = function (uid) {\n      _this.navIndex = _this.navIndex > DEFAULT_INDEX ? _this.navIndex - 1 : DEFAULT_INDEX;\n\n      if (_this.props.onRemove) {\n        _this.props.onRemove.call(undefined, uid);\n      }\n    };\n\n    _this.onAdd = function (files) {\n      _this.navIndex = DEFAULT_INDEX;\n\n      if (_this.props.onAdd) {\n        _this.props.onAdd.call(undefined, files);\n      }\n    };\n\n    _this.onClick = function (navIndex) {\n      _this.navIndex = navIndex;\n    };\n\n    _this.onFocus = function () {\n      if (_this._blurTimeout) {\n        clearTimeout(_this._blurTimeout);\n        _this._blurTimeout = undefined;\n      }\n    };\n\n    _this.onBlurTimeout = function () {\n      _this.navIndex = NOT_FOCUSED_INDEX;\n      _this._blurTimeout = undefined;\n    };\n\n    _this.onBlur = function () {\n      clearTimeout(_this._blurTimeout);\n      _this._blurTimeout = window.setTimeout(_this.onBlurTimeout);\n    };\n\n    _this._navIndex = NOT_FOCUSED_INDEX;\n    return _this;\n  }\n\n  Object.defineProperty(UploadNavigation.prototype, \"navIndex\", {\n    get: function () {\n      return this._navIndex;\n    },\n    set: function (navIndex) {\n      var prevNavIndex = this.navIndex;\n      this._navIndex = navIndex;\n\n      if (navIndex !== prevNavIndex) {\n        this.forceUpdate();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(UploadNavigation.prototype, \"actionElement\", {\n    get: function () {\n      if (this._uploadUI) {\n        return this._uploadUI.actionElement;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  UploadNavigation.prototype.componentDidUpdate = function (prevProps) {\n    var prevGroupLength = Object.keys(prevProps.groupedFiles).length;\n    var groupLength = Object.keys(this.props.groupedFiles).length;\n\n    if (prevGroupLength > groupLength && this.navIndex > DEFAULT_INDEX) {\n      this.navIndex = this.navIndex - (prevGroupLength - groupLength);\n    }\n  };\n\n  UploadNavigation.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        onClear = _a.onClear,\n        onRemove = _a.onRemove,\n        onRetry = _a.onRetry,\n        onCancel = _a.onCancel,\n        onUpload = _a.onUpload,\n        onAdd = _a.onAdd,\n        others = __rest(_a, [\"onClear\", \"onRemove\", \"onRetry\", \"onCancel\", \"onUpload\", \"onAdd\"]);\n\n    return React.createElement(UploadUI, __assign({\n      ref: function (ref) {\n        return _this._uploadUI = ref;\n      },\n      className: this.props.className,\n      onKeyDown: this.onKeyDown,\n      navigationIndex: this.navIndex,\n      notFocusedIndex: NOT_FOCUSED_INDEX,\n      onAdd: this.onAdd,\n      onClear: this.onClear,\n      onUpload: this.onUpload,\n      onRemove: this.onRemove,\n      onRetry: this.onRetry,\n      onCancel: this.onCancel,\n      onClick: this.onClick,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur\n    }, others));\n  };\n\n  return UploadNavigation;\n}(React.Component);\n\nexport { UploadNavigation };","map":{"version":3,"sources":["C:/Projects/React/heycloud-frontent-2/node_modules/@progress/kendo-react-upload/dist/es/UploadNavigation.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","Keys","UploadUI","NOT_FOCUSED_INDEX","DEFAULT_INDEX","UploadNavigation","_super","props","_this","_uploadUI","focus","onKeyDown","event","isRtl","navIndex","groupKeys","keys","groupedFiles","maxFileIndex","maxNavIndex","autoUpload","cancelButtonIndex","uploadButtonIndex","prevIndex","nextIndex","keyCode","up","down","left","right","enter","actionElement","click","onRetry","space","preventDefault","tab","delete","onRemove","esc","onCancel","uid","undefined","onClear","onUpload","onAdd","files","onClick","onFocus","_blurTimeout","clearTimeout","onBlurTimeout","onBlur","window","setTimeout","_navIndex","defineProperty","get","set","prevNavIndex","forceUpdate","enumerable","configurable","componentDidUpdate","prevProps","prevGroupLength","groupLength","render","_a","others","createElement","ref","className","navigationIndex","notFocusedIndex","Component"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Keys } from '@progress/kendo-react-common';\nimport { UploadUI } from './UploadUI';\n/**\n * @hidden\n */\nvar NOT_FOCUSED_INDEX = -2;\n/**\n * @hidden\n */\nvar DEFAULT_INDEX = -1;\n/**\n * @hidden\n */\nvar UploadNavigation = /** @class */ (function (_super) {\n    __extends(UploadNavigation, _super);\n    function UploadNavigation(props) {\n        var _this = _super.call(this, props) || this;\n        _this._uploadUI = null;\n        _this.focus = function () {\n            if (_this._uploadUI) {\n                _this._uploadUI.focus();\n            }\n        };\n        _this.onKeyDown = function (event, isRtl) {\n            var navIndex = _this.navIndex;\n            var groupKeys = Object.keys(_this.props.groupedFiles);\n            var maxFileIndex = (groupKeys.length - 1);\n            var maxNavIndex = _this.props.autoUpload || groupKeys.length === 0 ? maxFileIndex : maxFileIndex + 1;\n            var cancelButtonIndex = maxFileIndex + 1;\n            var uploadButtonIndex = cancelButtonIndex + 1;\n            var prevIndex = navIndex === NOT_FOCUSED_INDEX ? DEFAULT_INDEX : navIndex;\n            var nextIndex = navIndex;\n            switch (event.keyCode) {\n                case Keys.up:\n                    if (navIndex > -1) {\n                        nextIndex = prevIndex - 1;\n                    }\n                    break;\n                case Keys.down:\n                    if (navIndex < maxNavIndex) {\n                        nextIndex = prevIndex + 1;\n                    }\n                    break;\n                case Keys.left:\n                    if (isRtl) {\n                        if (navIndex === cancelButtonIndex) {\n                            nextIndex = prevIndex + 1;\n                        }\n                    }\n                    else {\n                        if (navIndex === uploadButtonIndex) {\n                            nextIndex = prevIndex - 1;\n                        }\n                    }\n                    break;\n                case Keys.right:\n                    if (isRtl) {\n                        if (navIndex === uploadButtonIndex) {\n                            nextIndex = prevIndex - 1;\n                        }\n                    }\n                    else {\n                        if (navIndex === cancelButtonIndex) {\n                            nextIndex = prevIndex + 1;\n                        }\n                    }\n                    break;\n                case Keys.enter:\n                    if (navIndex === DEFAULT_INDEX || navIndex === NOT_FOCUSED_INDEX) {\n                        if (_this.actionElement) {\n                            _this.actionElement.click();\n                        }\n                    }\n                    if (navIndex >= 0 && navIndex <= maxFileIndex) {\n                        _this.onRetry(groupKeys[navIndex]);\n                    }\n                    break;\n                case Keys.space:\n                    if (navIndex === DEFAULT_INDEX || navIndex === NOT_FOCUSED_INDEX) {\n                        if (_this.actionElement) {\n                            _this.actionElement.click();\n                        }\n                    }\n                    event.preventDefault();\n                    break;\n                case Keys.tab:\n                    nextIndex = NOT_FOCUSED_INDEX;\n                    break;\n                case Keys.delete:\n                    if (navIndex >= 0 && navIndex <= maxFileIndex) {\n                        nextIndex = prevIndex - 1;\n                        _this.onRemove(groupKeys[navIndex]);\n                    }\n                    break;\n                case Keys.esc:\n                    if (navIndex >= 0 && navIndex <= maxFileIndex) {\n                        nextIndex = prevIndex - 1;\n                        _this.onCancel(groupKeys[navIndex]);\n                    }\n                    break;\n                default:\n            }\n            _this.navIndex = nextIndex;\n        };\n        _this.onCancel = function (uid) {\n            if (_this.props.onCancel) {\n                _this.props.onCancel.call(undefined, uid);\n            }\n        };\n        _this.onClear = function () {\n            _this.navIndex = DEFAULT_INDEX;\n            if (_this.props.onClear) {\n                _this.props.onClear.call(undefined);\n            }\n        };\n        _this.onUpload = function () {\n            _this.navIndex = DEFAULT_INDEX;\n            if (_this.props.onUpload) {\n                _this.props.onUpload.call(undefined);\n            }\n        };\n        _this.onRetry = function (uid) {\n            if (_this.props.onRetry) {\n                _this.props.onRetry.call(undefined, uid);\n            }\n        };\n        _this.onRemove = function (uid) {\n            _this.navIndex = _this.navIndex > DEFAULT_INDEX ? _this.navIndex - 1 : DEFAULT_INDEX;\n            if (_this.props.onRemove) {\n                _this.props.onRemove.call(undefined, uid);\n            }\n        };\n        _this.onAdd = function (files) {\n            _this.navIndex = DEFAULT_INDEX;\n            if (_this.props.onAdd) {\n                _this.props.onAdd.call(undefined, files);\n            }\n        };\n        _this.onClick = function (navIndex) {\n            _this.navIndex = navIndex;\n        };\n        _this.onFocus = function () {\n            if (_this._blurTimeout) {\n                clearTimeout(_this._blurTimeout);\n                _this._blurTimeout = undefined;\n            }\n        };\n        _this.onBlurTimeout = function () {\n            _this.navIndex = NOT_FOCUSED_INDEX;\n            _this._blurTimeout = undefined;\n        };\n        _this.onBlur = function () {\n            clearTimeout(_this._blurTimeout);\n            _this._blurTimeout = window.setTimeout(_this.onBlurTimeout);\n        };\n        _this._navIndex = NOT_FOCUSED_INDEX;\n        return _this;\n    }\n    Object.defineProperty(UploadNavigation.prototype, \"navIndex\", {\n        get: function () {\n            return this._navIndex;\n        },\n        set: function (navIndex) {\n            var prevNavIndex = this.navIndex;\n            this._navIndex = navIndex;\n            if (navIndex !== prevNavIndex) {\n                this.forceUpdate();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UploadNavigation.prototype, \"actionElement\", {\n        get: function () {\n            if (this._uploadUI) {\n                return this._uploadUI.actionElement;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    UploadNavigation.prototype.componentDidUpdate = function (prevProps) {\n        var prevGroupLength = Object.keys(prevProps.groupedFiles).length;\n        var groupLength = Object.keys(this.props.groupedFiles).length;\n        if (prevGroupLength > groupLength && this.navIndex > DEFAULT_INDEX) {\n            this.navIndex = this.navIndex - (prevGroupLength - groupLength);\n        }\n    };\n    UploadNavigation.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, onClear = _a.onClear, onRemove = _a.onRemove, onRetry = _a.onRetry, onCancel = _a.onCancel, onUpload = _a.onUpload, onAdd = _a.onAdd, others = __rest(_a, [\"onClear\", \"onRemove\", \"onRetry\", \"onCancel\", \"onUpload\", \"onAdd\"]);\n        return (React.createElement(UploadUI, __assign({ ref: function (ref) { return _this._uploadUI = ref; }, className: this.props.className, onKeyDown: this.onKeyDown, navigationIndex: this.navIndex, notFocusedIndex: NOT_FOCUSED_INDEX, onAdd: this.onAdd, onClear: this.onClear, onUpload: this.onUpload, onRemove: this.onRemove, onRetry: this.onRetry, onCancel: this.onCancel, onClick: this.onClick, onFocus: this.onFocus, onBlur: this.onBlur }, others)));\n    };\n    return UploadNavigation;\n}(React.Component));\nexport { UploadNavigation };\n"]},"metadata":{},"sourceType":"module"}